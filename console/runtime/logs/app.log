2024-02-20 20:17:28 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:17:28 [-][-][-][info][yii\db\Connection::open] Opening DB connection: mysql:host=localhost;dbname=learning2
2024-02-20 20:17:29 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `migration` (
	`version` varchar(180) NOT NULL PRIMARY KEY,
	`apply_time` int(11)
)
2024-02-20 20:17:29 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:17:29 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:17:29 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m000000_000000_base', 1708449449)
2024-02-20 20:17:29 [-][-][-][info][yii\db\Command::query] SELECT `version`, `apply_time` FROM `migration` ORDER BY `apply_time` DESC, `version` DESC
2024-02-20 20:17:29 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:17:29 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `user` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`username` varchar(255) NOT NULL UNIQUE,
	`fullname` varchar(255),
	`auth_key` varchar(32) NOT NULL,
	`password_hash` varchar(255) NOT NULL,
	`password_reset_token` varchar(255) UNIQUE,
	`email` varchar(255) NOT NULL UNIQUE,
	`role` smallint(6) DEFAULT 2,
	`city_id` smallint(6),
	`status` smallint(6) NOT NULL DEFAULT 10,
	`created_at` int(11) NOT NULL,
	`updated_at` int(11) NOT NULL
) CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE=InnoDB
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `user`
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'user' AND `kcu`.`TABLE_NAME` = 'user'
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::execute] INSERT INTO `user` (`username`, `fullname`, `auth_key`, `password_hash`, `email`, `role`, `status`, `created_at`, `updated_at`) VALUES ('admin', 'admin admin admin', 'knrFK88QyEjIBMga3UlpuTeHyygLMMqk', '$2y$13$HQXwsLWTYwXrLy/Dd5hLT.shamK/T1VnshuRPZzjBMLhItoqFXOym', 'admin@admin.admin', 1, 10, 1708417050, 1708417050)
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` COMMENT 'Пользователи'
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user`
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` CHANGE `username` `username` varchar(255) COLLATE utf8_unicode_ci NOT NULL COMMENT 'Логин'
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user`
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` CHANGE `fullname` `fullname` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL COMMENT 'Полное имя'
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user`
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` CHANGE `auth_key` `auth_key` varchar(32) COLLATE utf8_unicode_ci NOT NULL COMMENT 'Ключ авторизации'
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user`
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` CHANGE `password_hash` `password_hash` varchar(255) COLLATE utf8_unicode_ci NOT NULL COMMENT 'Хэш пароля'
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user`
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` CHANGE `password_reset_token` `password_reset_token` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL COMMENT 'Хэш сброса пароля'
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user`
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` CHANGE `email` `email` varchar(255) COLLATE utf8_unicode_ci NOT NULL COMMENT 'Электронная почта'
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user`
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` CHANGE `role` `role` smallint(6) DEFAULT 2 COMMENT 'Роль'
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user`
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` CHANGE `city_id` `city_id` smallint(6) DEFAULT NULL COMMENT 'Город'
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user`
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` CHANGE `status` `status` smallint(6) NOT NULL DEFAULT 10 COMMENT 'Статус'
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user`
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` CHANGE `created_at` `created_at` int(11) NOT NULL COMMENT 'Дата создания'
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user`
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` CHANGE `updated_at` `updated_at` int(11) NOT NULL COMMENT 'Дата обновления'
2024-02-20 20:17:31 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:17:31 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:17:31 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m130524_201442_init', 1708449451)
2024-02-20 20:17:31 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `material` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`title` varchar(255) NOT NULL,
	`content` text,
	`img` varchar(255),
	`status` smallint(6) NOT NULL DEFAULT 0,
	`slug` varchar(255) NOT NULL,
	`meta_description` varchar(255),
	`meta_keywords` varchar(255),
	`created_by` int(11) NULL DEFAULT NULL,
	`created_at` datetime NOT NULL DEFAULT '2024-02-20 20:17:31',
	`updated_at` datetime NOT NULL DEFAULT '2024-02-20 20:17:31'
)
2024-02-20 20:17:32 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:17:32 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:17:32 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m180825_070027_create_material_table', 1708449452)
2024-02-20 20:17:32 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `menu` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`title` varchar(255) NOT NULL,
	`url` varchar(255),
	`icon` varchar(255),
	`status` smallint(6) NOT NULL DEFAULT 0,
	`created_by` int(11) NULL DEFAULT NULL,
	`created_at` datetime NOT NULL DEFAULT '2024-02-20 20:17:32',
	`updated_at` datetime NOT NULL DEFAULT '2024-02-20 20:17:32'
)
2024-02-20 20:17:34 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:17:34 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:17:34 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220107_062209_create_menu_table', 1708449454)
2024-02-20 20:17:34 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` ADD `f_token` varchar(255)
2024-02-20 20:17:34 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` ADD `phone` varchar(255) NOT NULL
2024-02-20 20:17:35 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user`
2024-02-20 20:17:35 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` CHANGE `f_token` `f_token` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL COMMENT 'Токен firebase'
2024-02-20 20:17:36 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user`
2024-02-20 20:17:36 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` CHANGE `phone` `phone` varchar(255) COLLATE utf8_unicode_ci NOT NULL COMMENT 'Телефон'
2024-02-20 20:17:37 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:17:39 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:17:39 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220527_084424_change_user_table', 1708449457)
2024-02-20 20:17:39 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `author` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`fio` varchar(255) NOT NULL,
	`created_user` int(11) NOT NULL,
	`status` tinyint(3) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:17:40 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` ADD CONSTRAINT `fk-created_user-author` FOREIGN KEY (`created_user`) REFERENCES `user` (`id`)
2024-02-20 20:17:42 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` COMMENT 'Автор'
2024-02-20 20:17:42 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `author`
2024-02-20 20:17:42 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` CHANGE `fio` `fio` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'ФИО'
2024-02-20 20:17:42 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `author`
2024-02-20 20:17:42 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` CHANGE `created_user` `created_user` int(11) NOT NULL COMMENT 'Создан пользователем'
2024-02-20 20:17:42 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `author`
2024-02-20 20:17:42 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` CHANGE `status` `status` tinyint(3) NOT NULL COMMENT 'Статус'
2024-02-20 20:17:42 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `author`
2024-02-20 20:17:42 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:17:42 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `author`
2024-02-20 20:17:42 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Время обновления'
2024-02-20 20:17:42 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:17:42 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:17:42 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220719_052703_create_author_table', 1708449462)
2024-02-20 20:17:42 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `category` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`title` varchar(255) NOT NULL,
	`description` text,
	`created_user` int(11) NOT NULL,
	`status` tinyint(3) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `category` ADD CONSTRAINT `fk-created_user-category` FOREIGN KEY (`created_user`) REFERENCES `user` (`id`)
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `category` COMMENT 'Категория'
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `category`
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `category` CHANGE `title` `title` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Название'
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `category`
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `category` CHANGE `description` `description` text COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Описание'
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `category`
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `category` CHANGE `created_user` `created_user` int(11) NOT NULL COMMENT 'Создан пользователем'
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `category`
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `category` CHANGE `status` `status` tinyint(3) NOT NULL COMMENT 'Статус'
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `category`
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `category` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `category`
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `category` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Время обновления'
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220719_065236_create_category_table', 1708449463)
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `course` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`title` varchar(255) NOT NULL,
	`description` text,
	`author_id` int(11) NOT NULL,
	`category_id` int(11) NOT NULL,
	`created_user` int(11) NOT NULL,
	`status` tinyint(3) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` ADD CONSTRAINT `fk-created_user-course` FOREIGN KEY (`created_user`) REFERENCES `user` (`id`)
2024-02-20 20:17:44 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` ADD CONSTRAINT `fk-author_id-course` FOREIGN KEY (`author_id`) REFERENCES `author` (`id`)
2024-02-20 20:17:44 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` ADD CONSTRAINT `fk-category_id-course` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`)
2024-02-20 20:17:44 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` COMMENT 'Курс'
2024-02-20 20:17:44 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `course`
2024-02-20 20:17:44 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `title` `title` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Название'
2024-02-20 20:17:44 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `course`
2024-02-20 20:17:44 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `description` `description` text COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Описание'
2024-02-20 20:17:44 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `course`
2024-02-20 20:17:44 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `author_id` `author_id` int(11) NOT NULL COMMENT 'Создан пользователем'
2024-02-20 20:17:44 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `course`
2024-02-20 20:17:44 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `category_id` `category_id` int(11) NOT NULL COMMENT 'Создан пользователем'
2024-02-20 20:17:44 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `course`
2024-02-20 20:17:44 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `created_user` `created_user` int(11) NOT NULL COMMENT 'Создан пользователем'
2024-02-20 20:17:44 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `course`
2024-02-20 20:17:45 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `status` `status` tinyint(3) NOT NULL COMMENT 'Статус'
2024-02-20 20:17:45 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `course`
2024-02-20 20:17:45 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:17:45 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `course`
2024-02-20 20:17:45 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Время обновления'
2024-02-20 20:17:45 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:17:46 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:17:46 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220719_082409_create_course_table', 1708449465)
2024-02-20 20:17:46 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `user_refresh_tokens` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`urf_userID` int(10) NOT NULL,
	`urf_token` varchar(1000) NOT NULL,
	`urf_ip` varchar(50) NOT NULL,
	`urf_user_agent` varchar(1000) NOT NULL,
	`urf_created` datetime
)
2024-02-20 20:17:46 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:17:46 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:17:46 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220721_072211_create_user_refresh_tokens_table', 1708449466)
2024-02-20 20:17:46 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `lesson` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`title` varchar(255) NOT NULL,
	`description` text,
	`video` varchar(255) NOT NULL,
	`course_id` int(11) NOT NULL,
	`position` int(11) NOT NULL,
	`status` tinyint(3) NOT NULL,
	`created_user_id` int(11) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:17:46 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` ADD CONSTRAINT `fk-created_user-lesson` FOREIGN KEY (`created_user_id`) REFERENCES `user` (`id`)
2024-02-20 20:17:46 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` ADD CONSTRAINT `fk-course_id-lesson` FOREIGN KEY (`course_id`) REFERENCES `course` (`id`)
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` COMMENT 'Урок'
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `lesson`
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` CHANGE `title` `title` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Название'
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `lesson`
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` CHANGE `description` `description` text COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Описание'
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `lesson`
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` CHANGE `video` `video` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Видео'
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `lesson`
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` CHANGE `course_id` `course_id` int(11) NOT NULL COMMENT 'Курс'
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `lesson`
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` CHANGE `position` `position` int(11) NOT NULL COMMENT 'Позиция'
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `lesson`
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` CHANGE `created_user_id` `created_user_id` int(11) NOT NULL COMMENT 'Создан пользователем'
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `lesson`
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` CHANGE `status` `status` tinyint(3) NOT NULL COMMENT 'Статус'
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `lesson`
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `lesson`
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Время обновления'
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220801_071812_create_lesson_table', 1708449467)
2024-02-20 20:17:48 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` ADD `price` decimal(10,2)
2024-02-20 20:17:48 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `course`
2024-02-20 20:17:48 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `price` `price` decimal(10,2) DEFAULT NULL COMMENT 'Цена'
2024-02-20 20:18:32 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:18:34 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:18:34 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220802_074635_add_price_column_to_course_table', 1708449512)
2024-02-20 20:18:34 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `report` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`email` varchar(255) NOT NULL,
	`code` varchar(255) NOT NULL,
	`status` tinyint(3) NOT NULL DEFAULT 1,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:18:36 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `report` COMMENT 'СМС'
2024-02-20 20:18:37 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `report`
2024-02-20 20:18:37 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `report` CHANGE `email` `email` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Email'
2024-02-20 20:18:37 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `report`
2024-02-20 20:18:37 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `report` CHANGE `code` `code` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Код'
2024-02-20 20:18:38 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `report`
2024-02-20 20:18:38 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `report` CHANGE `status` `status` tinyint(3) NOT NULL DEFAULT 1 COMMENT 'Статус'
2024-02-20 20:18:39 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `report`
2024-02-20 20:18:39 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `report` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Дата создания'
2024-02-20 20:18:40 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `report`
2024-02-20 20:18:40 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `report` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Дата изменения'
2024-02-20 20:18:41 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:18:43 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:18:43 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220802_091808_create_report_table', 1708449521)
2024-02-20 20:18:43 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `refferral_user` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`ref_user_id` int(11) NOT NULL,
	`user_id` int(11) NOT NULL
)
2024-02-20 20:18:44 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `refferral_user` ADD CONSTRAINT `fk-ref_user_id-refferral_user` FOREIGN KEY (`ref_user_id`) REFERENCES `user` (`id`)
2024-02-20 20:18:45 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `refferral_user` ADD CONSTRAINT `fk-user_id-refferral_user` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`)
2024-02-20 20:18:46 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` ADD `ref_count` int(11) DEFAULT 0
2024-02-20 20:18:46 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` ADD `ref_string` text
2024-02-20 20:18:46 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:18:46 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:18:46 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220802_120326_create_refferral_user_table', 1708449526)
2024-02-20 20:18:46 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `purchased_course` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`user_id` int(11) NOT NULL,
	`course_id` int(11) NOT NULL,
	`price` decimal(10,2) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:18:47 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_course` ADD CONSTRAINT `fk-user_id-purchased_course` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`)
2024-02-20 20:18:48 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_course` ADD CONSTRAINT `fk-course_id-purchased_course` FOREIGN KEY (`course_id`) REFERENCES `course` (`id`)
2024-02-20 20:18:51 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_course` COMMENT 'Купленные курсы'
2024-02-20 20:18:52 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `purchased_course`
2024-02-20 20:18:52 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_course` CHANGE `user_id` `user_id` int(11) NOT NULL COMMENT 'Пользователь'
2024-02-20 20:18:53 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `purchased_course`
2024-02-20 20:18:53 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_course` CHANGE `course_id` `course_id` int(11) NOT NULL COMMENT 'Курс'
2024-02-20 20:18:53 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `purchased_course`
2024-02-20 20:18:53 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_course` CHANGE `price` `price` decimal(10,2) NOT NULL COMMENT 'Цена'
2024-02-20 20:18:53 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `purchased_course`
2024-02-20 20:18:53 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_course` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:18:53 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `purchased_course`
2024-02-20 20:18:53 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_course` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Время обновления'
2024-02-20 20:18:53 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` ADD `full_access` tinyint(1) DEFAULT 0
2024-02-20 20:18:53 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:18:54 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:18:54 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220803_110736_create_purchased_course_table', 1708449533)
2024-02-20 20:18:55 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` ADD `ava` varchar(255)
2024-02-20 20:18:55 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:18:57 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:18:57 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220804_101318_add_ava_column_to_user_table', 1708449535)
2024-02-20 20:18:57 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `webinar` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`link` varchar(255) NOT NULL,
	`date` datetime NOT NULL,
	`course_id` int(11) NOT NULL,
	`status` tinyint(3) NOT NULL,
	`created_user_id` int(11) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:18:58 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `webinar` ADD CONSTRAINT `fk-created_user-webinar` FOREIGN KEY (`created_user_id`) REFERENCES `user` (`id`)
2024-02-20 20:18:58 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `webinar` ADD CONSTRAINT `fk-course_id-webinar` FOREIGN KEY (`course_id`) REFERENCES `course` (`id`)
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `webinar` COMMENT 'Вебинар'
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `webinar`
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `webinar` CHANGE `link` `link` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Ссылка'
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `webinar`
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `webinar` CHANGE `date` `date` datetime NOT NULL COMMENT 'Дата'
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `webinar`
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `webinar` CHANGE `course_id` `course_id` int(11) NOT NULL COMMENT 'Курс'
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `webinar`
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `webinar` CHANGE `created_user_id` `created_user_id` int(11) NOT NULL COMMENT 'Создан пользователем'
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `webinar`
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `webinar` CHANGE `status` `status` tinyint(3) NOT NULL COMMENT 'Статус'
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `webinar`
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `webinar` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `webinar`
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `webinar` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Время обновления'
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220808_072831_create_webinar_table', 1708449541)
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `random_seed` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`random_seed` int(11)
)
2024-02-20 20:19:02 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:03 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:03 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220808_131057_create_random_seed_table', 1708449542)
2024-02-20 20:19:04 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `corporate_training` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`name` varchar(255) NOT NULL,
	`phone` varchar(255) NOT NULL,
	`text` text NOT NULL,
	`status` tinyint(3) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:19:04 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `corporate_training` COMMENT 'Корпоративное обучение'
2024-02-20 20:19:05 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `corporate_training`
2024-02-20 20:19:05 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `corporate_training` CHANGE `name` `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Имя'
2024-02-20 20:19:05 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `corporate_training`
2024-02-20 20:19:05 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `corporate_training` CHANGE `phone` `phone` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Телефон'
2024-02-20 20:19:05 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `corporate_training`
2024-02-20 20:19:05 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `corporate_training` CHANGE `text` `text` text COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Текст'
2024-02-20 20:19:06 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `corporate_training`
2024-02-20 20:19:06 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `corporate_training` CHANGE `status` `status` tinyint(3) NOT NULL COMMENT 'Статус'
2024-02-20 20:19:06 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `corporate_training`
2024-02-20 20:19:06 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `corporate_training` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:19:06 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `corporate_training`
2024-02-20 20:19:06 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `corporate_training` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Время обновления'
2024-02-20 20:19:06 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:06 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:06 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220809_073142_create_corporate_training_table', 1708449546)
2024-02-20 20:19:06 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `question` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`lesson_id` int(11) NOT NULL,
	`text` text NOT NULL,
	`position` int(11) NOT NULL,
	`type` tinyint(3) NOT NULL,
	`answer` text NOT NULL,
	`created_user_id` int(11) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:19:07 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` ADD CONSTRAINT `fk-created_user-question` FOREIGN KEY (`created_user_id`) REFERENCES `user` (`id`)
2024-02-20 20:19:09 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` ADD CONSTRAINT `fk-lesson_id-question` FOREIGN KEY (`lesson_id`) REFERENCES `lesson` (`id`)
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` COMMENT 'Домашние задания'
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `question`
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` CHANGE `lesson_id` `lesson_id` int(11) NOT NULL COMMENT 'Урок'
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `question`
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` CHANGE `position` `position` int(11) NOT NULL COMMENT 'Позиция'
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `question`
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` CHANGE `type` `type` tinyint(3) NOT NULL COMMENT 'Тип'
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `question`
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` CHANGE `answer` `answer` text COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Ответ'
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `question`
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` CHANGE `created_user_id` `created_user_id` int(11) NOT NULL COMMENT 'Создан пользователем'
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `question`
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `question`
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Время обновления'
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `user_answer` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`user_id` int(11) NOT NULL,
	`question_id` int(11) NOT NULL,
	`answer` text NOT NULL,
	`right` tinyint(1) NOT NULL,
	`created_at` datetime
)
2024-02-20 20:19:13 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` ADD CONSTRAINT `fk-user_id-user_answer` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`)
2024-02-20 20:19:13 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` ADD CONSTRAINT `fk-question_id-user_answer` FOREIGN KEY (`question_id`) REFERENCES `question` (`id`)
2024-02-20 20:19:14 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` COMMENT 'Ответы пользователей'
2024-02-20 20:19:14 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_answer`
2024-02-20 20:19:14 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` CHANGE `user_id` `user_id` int(11) NOT NULL COMMENT 'Пользователь'
2024-02-20 20:19:14 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_answer`
2024-02-20 20:19:14 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` CHANGE `question_id` `question_id` int(11) NOT NULL COMMENT 'Домашнее задание'
2024-02-20 20:19:14 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_answer`
2024-02-20 20:19:14 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` CHANGE `answer` `answer` text COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Ответ'
2024-02-20 20:19:14 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_answer`
2024-02-20 20:19:14 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` CHANGE `right` `right` tinyint(1) NOT NULL COMMENT 'Правильно'
2024-02-20 20:19:15 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_answer`
2024-02-20 20:19:15 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:19:15 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `user_result` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`user_id` int(11) NOT NULL,
	`lesson_id` int(11) NOT NULL,
	`score` text NOT NULL,
	`created_at` datetime
)
2024-02-20 20:19:15 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_result` ADD CONSTRAINT `fk-user_id-user_result` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`)
2024-02-20 20:19:15 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_result` ADD CONSTRAINT `fk-lesson_id-user_result` FOREIGN KEY (`lesson_id`) REFERENCES `lesson` (`id`)
2024-02-20 20:19:15 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_result` COMMENT 'Результаты пользовтелей'
2024-02-20 20:19:15 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_result`
2024-02-20 20:19:15 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_result` CHANGE `user_id` `user_id` int(11) NOT NULL COMMENT 'Пользователь'
2024-02-20 20:19:15 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_result`
2024-02-20 20:19:15 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_result` CHANGE `lesson_id` `lesson_id` int(11) NOT NULL COMMENT 'Урок'
2024-02-20 20:19:15 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_result`
2024-02-20 20:19:15 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_result` CHANGE `score` `score` text COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Результат'
2024-02-20 20:19:16 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_result`
2024-02-20 20:19:16 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_result` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:19:16 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:17 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:17 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220810_072004_create_question_table', 1708449556)
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` ADD `description` text
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` ADD `photo` varchar(255)
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `author`
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` CHANGE `description` `description` text COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Описание'
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `author`
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` CHANGE `photo` `photo` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Фото'
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220812_111109_add_columns_to_author_table', 1708449558)
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `setting` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`title` varchar(255),
	`key` varchar(255) NOT NULL,
	`value` decimal(10,2) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `setting` COMMENT 'Настройки'
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `setting`
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `setting` CHANGE `title` `title` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Название'
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `setting`
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `setting` CHANGE `key` `key` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Ключ'
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `setting`
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `setting` CHANGE `value` `value` decimal(10,2) NOT NULL COMMENT 'Значение'
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `setting`
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `setting` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Дата создания'
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `setting`
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `setting` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Дата обновления'
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220812_131155_create_setting_table', 1708449558)
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `banner` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`title` varchar(255) NOT NULL,
	`path` varchar(255) NOT NULL,
	`size` int(11) NOT NULL,
	`position` int(11),
	`zone` smallint(6),
	`url` varchar(255),
	`status` tinyint(3) NOT NULL DEFAULT 0,
	`published_at` datetime,
	`created_user_id` int(11) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:19:19 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `banner` ADD CONSTRAINT `fk-created_user-banner` FOREIGN KEY (`created_user_id`) REFERENCES `user` (`id`)
2024-02-20 20:19:19 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `banner` COMMENT 'Баннеры'
2024-02-20 20:19:19 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `banner`
2024-02-20 20:19:19 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `banner` CHANGE `title` `title` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Заголовок'
2024-02-20 20:19:20 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `banner`
2024-02-20 20:19:20 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `banner` CHANGE `path` `path` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Путь'
2024-02-20 20:19:21 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `banner`
2024-02-20 20:19:21 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `banner` CHANGE `size` `size` int(11) NOT NULL COMMENT 'Размер'
2024-02-20 20:19:21 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `banner`
2024-02-20 20:19:21 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `banner` CHANGE `position` `position` int(11) DEFAULT NULL COMMENT 'Позиция'
2024-02-20 20:19:21 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `banner`
2024-02-20 20:19:22 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `banner` CHANGE `zone` `zone` smallint(6) DEFAULT NULL COMMENT 'Зона'
2024-02-20 20:19:22 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `banner`
2024-02-20 20:19:22 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `banner` CHANGE `url` `url` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Ссылка'
2024-02-20 20:19:22 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `banner`
2024-02-20 20:19:22 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `banner` CHANGE `status` `status` tinyint(3) NOT NULL DEFAULT 0 COMMENT 'Статус'
2024-02-20 20:19:22 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `banner`
2024-02-20 20:19:22 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `banner` CHANGE `published_at` `published_at` datetime DEFAULT NULL COMMENT 'Дата публикации'
2024-02-20 20:19:22 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `banner`
2024-02-20 20:19:22 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `banner` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Дата создания'
2024-02-20 20:19:22 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `banner`
2024-02-20 20:19:22 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `banner` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Дата изменения'
2024-02-20 20:19:22 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:22 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:22 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220812_132344_create_banner_table', 1708449562)
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `transaction` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`amount` decimal(10,2) NOT NULL,
	`payment_type` smallint(6) NOT NULL,
	`pay_id` varchar(255),
	`status` smallint(6) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `transaction` COMMENT 'Транзакции'
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `transaction`
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `transaction` CHANGE `amount` `amount` decimal(10,2) NOT NULL COMMENT 'Цена'
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `transaction`
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `transaction` CHANGE `payment_type` `payment_type` smallint(6) NOT NULL COMMENT 'Способ оплаты'
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `transaction`
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `transaction` CHANGE `pay_id` `pay_id` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Идентификатор транзакции в cloud payments'
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `transaction`
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `transaction` CHANGE `status` `status` smallint(6) NOT NULL COMMENT 'Статус'
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `transaction`
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `transaction` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `transaction`
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `transaction` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Время обновления'
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220814_074055_create_transaction_table', 1708449563)
2024-02-20 20:19:24 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `corporate_training` ADD `email` varchar(255)
2024-02-20 20:19:24 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `corporate_training`
2024-02-20 20:19:24 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `corporate_training` CHANGE `email` `email` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Электронная почта'
2024-02-20 20:19:24 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:24 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:24 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220814_075302_add_email_to_corporate_training', 1708449564)
2024-02-20 20:19:24 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` ADD `photo` varchar(255)
2024-02-20 20:19:24 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `course`
2024-02-20 20:19:24 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `photo` `photo` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Фото'
2024-02-20 20:19:24 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:25 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:25 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220814_102400_add_photo_to_course_table', 1708449564)
2024-02-20 20:19:25 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `category` ADD `photo` varchar(255)
2024-02-20 20:19:26 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `category`
2024-02-20 20:19:26 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `category` CHANGE `photo` `photo` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Фото'
2024-02-20 20:19:26 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:27 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:27 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220814_102538_add_photo_to_category_table', 1708449566)
2024-02-20 20:19:27 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` DROP COLUMN `username`
2024-02-20 20:19:28 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220815_072436_delete_username_column_from_user_table', 1708449568)
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `notification` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`title` varchar(255) NOT NULL,
	`description` text,
	`status` tinyint(3) NOT NULL DEFAULT 1,
	`user_id` int(11) NULL DEFAULT NULL,
	`created_at` datetime
)
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `notification` ADD CONSTRAINT `fk-notification-user_id` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`)
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `notification` COMMENT 'Уведомления в кабинете'
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `notification`
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `notification` CHANGE `title` `title` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Название'
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `notification`
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `notification` CHANGE `description` `description` text COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Описание'
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `notification`
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `notification` CHANGE `user_id` `user_id` int(11) DEFAULT NULL COMMENT 'Пользователь'
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `notification`
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `notification` CHANGE `status` `status` tinyint(3) NOT NULL DEFAULT 1 COMMENT 'Статус'
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `notification`
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `notification` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Дата создания'
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:30 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:30 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220815_074348_create_notification_table', 1708449569)
2024-02-20 20:19:30 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `achievement` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`title` varchar(255) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:19:32 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement` COMMENT 'Достижения'
2024-02-20 20:19:32 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `achievement`
2024-02-20 20:19:32 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement` CHANGE `title` `title` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Название'
2024-02-20 20:19:32 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `achievement`
2024-02-20 20:19:32 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Дата создания'
2024-02-20 20:19:32 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `achievement`
2024-02-20 20:19:32 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Дата обновления'
2024-02-20 20:19:32 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `achievement_level` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`achievement_id` int(11) NOT NULL,
	`title` varchar(255) NOT NULL,
	`score` varchar(255) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:19:33 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_level` ADD CONSTRAINT `fk-achievement_level-achievement_id` FOREIGN KEY (`achievement_id`) REFERENCES `achievement` (`id`)
2024-02-20 20:19:39 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_level` COMMENT 'Уровень достижения'
2024-02-20 20:19:39 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `achievement_level`
2024-02-20 20:19:39 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_level` CHANGE `title` `title` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Название'
2024-02-20 20:19:39 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `achievement_level`
2024-02-20 20:19:39 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_level` CHANGE `achievement_id` `achievement_id` int(11) NOT NULL COMMENT 'Достижение'
2024-02-20 20:19:39 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `achievement_level`
2024-02-20 20:19:39 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_level` CHANGE `score` `score` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Баллы'
2024-02-20 20:19:39 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `achievement_level`
2024-02-20 20:19:39 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_level` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Дата создания'
2024-02-20 20:19:39 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `achievement_level`
2024-02-20 20:19:39 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_level` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Дата обновления'
2024-02-20 20:19:39 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `achievement_user` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`user_id` int(11) NOT NULL,
	`achievement_level_id` int(11) NOT NULL,
	`user_score` int(11) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:19:39 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_user` ADD CONSTRAINT `fk-achievement_user-user_id` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`)
2024-02-20 20:19:39 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_user` ADD CONSTRAINT `fk-achievement_user-achievement_level_id` FOREIGN KEY (`achievement_level_id`) REFERENCES `achievement_level` (`id`)
2024-02-20 20:19:42 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_user` COMMENT 'Достижения пользователя'
2024-02-20 20:19:42 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `achievement_user`
2024-02-20 20:19:42 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_user` CHANGE `user_id` `user_id` int(11) NOT NULL COMMENT 'Пользователь'
2024-02-20 20:19:42 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `achievement_user`
2024-02-20 20:19:42 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_user` CHANGE `achievement_level_id` `achievement_level_id` int(11) NOT NULL COMMENT 'Уровень достижения'
2024-02-20 20:19:42 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `achievement_user`
2024-02-20 20:19:42 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_user` CHANGE `user_score` `user_score` int(11) NOT NULL COMMENT 'Баллы пользователя'
2024-02-20 20:19:42 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `achievement_user`
2024-02-20 20:19:42 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_user` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Дата создания'
2024-02-20 20:19:42 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `achievement_user`
2024-02-20 20:19:42 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_user` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Дата обновления'
2024-02-20 20:19:42 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:42 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:42 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220815_083556_create_achievement_table', 1708449582)
2024-02-20 20:19:43 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `banner` DROP COLUMN `position`
2024-02-20 20:19:43 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` DROP COLUMN `position`
2024-02-20 20:19:45 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` DROP COLUMN `position`
2024-02-20 20:19:51 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `banner` ADD `position` int(11) NULL DEFAULT NULL
2024-02-20 20:19:51 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` ADD `position` int(11) NULL DEFAULT NULL
2024-02-20 20:19:51 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` ADD `position` int(11) NULL DEFAULT NULL
2024-02-20 20:19:53 [-][-][-][info][yii\db\Command::query] SELECT * FROM `banner`
2024-02-20 20:19:53 [-][-][-][info][yii\db\Command::query] SELECT * FROM `lesson`
2024-02-20 20:19:53 [-][-][-][info][yii\db\Command::query] SELECT * FROM `question`
2024-02-20 20:19:53 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:54 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:54 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220825_090054_change_position_columns_in_tables', 1708449593)
2024-02-20 20:19:54 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` ADD `time` varchar(255)
2024-02-20 20:19:54 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `course`
2024-02-20 20:19:54 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `time` `time` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Время'
2024-02-20 20:19:54 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` ADD `time` varchar(255)
2024-02-20 20:19:54 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `lesson`
2024-02-20 20:19:54 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` CHANGE `time` `time` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Время'
2024-02-20 20:19:55 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:57 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:57 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220918_112131_add_columns_to_course_table', 1708449595)
2024-02-20 20:19:57 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `user_lessons` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`lesson_id` int(11) NOT NULL,
	`user_id` int(11) NOT NULL,
	`score` int(11) NOT NULL,
	`question_count` int(11) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:19:57 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_lessons` ADD CONSTRAINT `fk-user_lessons-lesson_id` FOREIGN KEY (`lesson_id`) REFERENCES `lesson` (`id`)
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_lessons` ADD CONSTRAINT `fk-user_lessons-user_id` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`)
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_lessons` COMMENT 'Пройденные лекции'
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_lessons`
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_lessons` CHANGE `lesson_id` `lesson_id` int(11) NOT NULL COMMENT 'Уроки'
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_lessons`
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_lessons` CHANGE `user_id` `user_id` int(11) NOT NULL COMMENT 'Пользователь'
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_lessons`
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_lessons` CHANGE `score` `score` int(11) NOT NULL COMMENT 'Правильно отвеченные вопросы'
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_lessons`
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_lessons` CHANGE `question_count` `question_count` int(11) NOT NULL COMMENT 'Общие вопросы'
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_lessons`
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_lessons` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Дата создания'
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_lessons`
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_lessons` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Дата обновления'
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220922_112424_create_user_lessons_table', 1708449598)
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `setting`
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'setting' AND `kcu`.`TABLE_NAME` = 'setting'
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::execute] INSERT INTO `setting` (`title`, `key`, `value`, `created_at`, `updated_at`) VALUES ('Проходной процент', 'percent_limit', '50', '2024-02-20 08:19:58', '2024-02-20 08:19:58')
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220922_140826_add_row_to_setting_table', 1708449598)
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `purchased_webinar` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`user_id` int(11) NOT NULL,
	`webinar_id` int(11) NOT NULL,
	`price` decimal(10,2) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_webinar` ADD CONSTRAINT `fk-user_id-purchased_webinar` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`)
2024-02-20 20:19:59 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_webinar` ADD CONSTRAINT `fk-webinar_id-purchased_webinar` FOREIGN KEY (`webinar_id`) REFERENCES `webinar` (`id`)
2024-02-20 20:19:59 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_webinar` COMMENT 'Купленные вебинары'
2024-02-20 20:19:59 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `purchased_webinar`
2024-02-20 20:19:59 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_webinar` CHANGE `user_id` `user_id` int(11) NOT NULL COMMENT 'Пользователь'
2024-02-20 20:19:59 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `purchased_webinar`
2024-02-20 20:19:59 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_webinar` CHANGE `webinar_id` `webinar_id` int(11) NOT NULL COMMENT 'Вебинар'
2024-02-20 20:19:59 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `purchased_webinar`
2024-02-20 20:19:59 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_webinar` CHANGE `price` `price` decimal(10,2) NOT NULL COMMENT 'Цена'
2024-02-20 20:19:59 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `purchased_webinar`
2024-02-20 20:19:59 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_webinar` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:19:59 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `purchased_webinar`
2024-02-20 20:19:59 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_webinar` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Время обновления'
2024-02-20 20:19:59 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:00 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:00 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220922_155159_create_purchased_webinar_table', 1708449599)
2024-02-20 20:20:01 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` ADD `price_photo` varchar(255)
2024-02-20 20:20:01 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `course`
2024-02-20 20:20:02 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `price_photo` `price_photo` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Изображение с ценой'
2024-02-20 20:20:02 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:04 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:04 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220922_163303_add_course_table', 1708449602)
2024-02-20 20:20:05 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `webinar` ADD `img` varchar(255)
2024-02-20 20:20:05 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `webinar` ADD `title` varchar(255)
2024-02-20 20:20:06 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:06 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:06 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220923_110549_add_columns_to_webinar_table', 1708449606)
2024-02-20 20:20:06 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` ADD `trailer` varchar(255)
2024-02-20 20:20:06 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:07 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:07 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220926_145411_add_trailer_to_course_table', 1708449606)
2024-02-20 20:20:07 [-][-][-][info][yii\db\Command::execute] DROP TABLE `achievement_user`
2024-02-20 20:20:07 [-][-][-][info][yii\db\Command::execute] DROP TABLE `achievement_level`
2024-02-20 20:20:07 [-][-][-][info][yii\db\Command::execute] DROP TABLE `achievement`
2024-02-20 20:20:08 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `achievement` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`letter` varchar(1) NOT NULL,
	`title` varchar(255) NOT NULL,
	`description` varchar(255) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:20:08 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `achievement_user` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`achievement_id` int(11) NOT NULL,
	`user_id` int(11) NOT NULL,
	`for` varchar(255),
	`type` int(11) NOT NULL,
	`created_at` datetime
)
2024-02-20 20:20:08 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_user` ADD CONSTRAINT `fk-achievement_user-user_id` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`)
2024-02-20 20:20:08 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_user` ADD CONSTRAINT `fk-achievement_user-achievement_id` FOREIGN KEY (`achievement_id`) REFERENCES `achievement` (`id`)
2024-02-20 20:20:10 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `achievement`
2024-02-20 20:20:10 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'achievement' AND `kcu`.`TABLE_NAME` = 'achievement'
2024-02-20 20:20:10 [-][-][-][info][yii\db\Command::execute] INSERT INTO `achievement` (`id`, `letter`, `title`, `description`, `created_at`, `updated_at`) VALUES (1, 'A', 'Первая награда', 'Получи их все', '2024-02-20 20:20:10', '2024-02-20 20:20:10'), (2, 'B', 'Вторая награда', 'Получи их все', '2024-02-20 20:20:10', '2024-02-20 20:20:10'), (3, 'C', 'Третья награда', 'Получи их все', '2024-02-20 20:20:10', '2024-02-20 20:20:10'), (4, 'D', 'Четвертая награда', 'Получи их все', '2024-02-20 20:20:10', '2024-02-20 20:20:10'), (5, 'E', 'Пятая награда', 'Получи их все', '2024-02-20 20:20:10', '2024-02-20 20:20:10'), (6, 'F', 'Шестая награда', 'Получи их все', '2024-02-20 20:20:10', '2024-02-20 20:20:10'), (7, 'G', 'Седьмая награда', 'Получи их все', '2024-02-20 20:20:10', '2024-02-20 20:20:10'), (8, 'H', 'Восьмая награда', 'Получи их все', '2024-02-20 20:20:10', '2024-02-20 20:20:10'), (9, 'I', 'Девятая награда', 'Получи их все', '2024-02-20 20:20:10', '2024-02-20 20:20:10'), (10, 'G', 'Десятая награда', 'Получи их все', '2024-02-20 20:20:10', '2024-02-20 20:20:10'), (11, 'K', 'Одиннадцатая награда', 'Получи их все', '2024-02-20 20:20:10', '2024-02-20 20:20:10')
2024-02-20 20:20:10 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:10 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:10 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220927_114422_create_achievement_table', 1708449610)
2024-02-20 20:20:10 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `corporate_training` ADD `theme` varchar(255)
2024-02-20 20:20:10 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:10 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:10 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220927_145615_add_theme_to_corporate_training_table', 1708449610)
2024-02-20 20:20:11 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_lessons` ADD `passed` tinyint(1) DEFAULT 1
2024-02-20 20:20:11 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:11 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:11 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220928_051620_add_passed_column_to_user_lessons_table', 1708449611)
2024-02-20 20:20:11 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `feedback` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`name` varchar(255) NOT NULL,
	`email` varchar(255) NOT NULL,
	`text` text NOT NULL,
	`created_at` datetime
)
2024-02-20 20:20:13 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:14 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:14 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220928_154722_create_feedback_table', 1708449613)
2024-02-20 20:20:15 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` ADD `video` varchar(255)
2024-02-20 20:20:15 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:16 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:16 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220930_152324_add_video_column_to_author_table', 1708449615)
2024-02-20 20:20:16 [-][-][-][info][yii\db\Command::execute] DROP TABLE `user_answer`
2024-02-20 20:20:16 [-][-][-][info][yii\db\Command::execute] DROP TABLE `user_result`
2024-02-20 20:20:17 [-][-][-][info][yii\db\Command::execute] DROP TABLE `question`
2024-02-20 20:20:17 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `question` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`course_id` int(11) NOT NULL,
	`text` text NOT NULL,
	`position` int(11) NOT NULL,
	`type` tinyint(3) NOT NULL,
	`answer` text NOT NULL,
	`created_user_id` int(11) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:20:19 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` ADD CONSTRAINT `fk-created_user-question` FOREIGN KEY (`created_user_id`) REFERENCES `user` (`id`)
2024-02-20 20:20:25 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` ADD CONSTRAINT `fk-course_id-question` FOREIGN KEY (`course_id`) REFERENCES `course` (`id`)
2024-02-20 20:20:26 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` COMMENT 'Домашние задания'
2024-02-20 20:20:26 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `question`
2024-02-20 20:20:26 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` CHANGE `course_id` `course_id` int(11) NOT NULL COMMENT 'Курс'
2024-02-20 20:20:26 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `question`
2024-02-20 20:20:26 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` CHANGE `position` `position` int(11) NOT NULL COMMENT 'Позиция'
2024-02-20 20:20:27 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `question`
2024-02-20 20:20:27 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` CHANGE `type` `type` tinyint(3) NOT NULL COMMENT 'Тип'
2024-02-20 20:20:27 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `question`
2024-02-20 20:20:27 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` CHANGE `answer` `answer` text COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Ответ'
2024-02-20 20:20:27 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `question`
2024-02-20 20:20:27 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` CHANGE `created_user_id` `created_user_id` int(11) NOT NULL COMMENT 'Создан пользователем'
2024-02-20 20:20:27 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `question`
2024-02-20 20:20:27 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:20:27 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `question`
2024-02-20 20:20:27 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Время обновления'
2024-02-20 20:20:27 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `user_answer` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`user_id` int(11) NOT NULL,
	`question_id` int(11) NOT NULL,
	`answer` text NOT NULL,
	`right` tinyint(1) NOT NULL,
	`created_at` datetime
)
2024-02-20 20:20:28 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` ADD CONSTRAINT `fk-user_id-user_answer` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`)
2024-02-20 20:20:30 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` ADD CONSTRAINT `fk-question_id-user_answer` FOREIGN KEY (`question_id`) REFERENCES `question` (`id`)
2024-02-20 20:20:30 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` COMMENT 'Ответы пользователей'
2024-02-20 20:20:31 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_answer`
2024-02-20 20:20:31 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` CHANGE `user_id` `user_id` int(11) NOT NULL COMMENT 'Пользователь'
2024-02-20 20:20:31 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_answer`
2024-02-20 20:20:31 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` CHANGE `question_id` `question_id` int(11) NOT NULL COMMENT 'Домашнее задание'
2024-02-20 20:20:31 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_answer`
2024-02-20 20:20:31 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` CHANGE `answer` `answer` text COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Ответ'
2024-02-20 20:20:32 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_answer`
2024-02-20 20:20:32 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` CHANGE `right` `right` tinyint(1) NOT NULL COMMENT 'Правильно'
2024-02-20 20:20:32 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_answer`
2024-02-20 20:20:32 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:20:32 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_lessons` DROP FOREIGN KEY `fk-user_lessons-lesson_id`
2024-02-20 20:20:32 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_lessons` DROP COLUMN `lesson_id`
2024-02-20 20:20:33 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_lessons` ADD `course_id` int(11)
2024-02-20 20:20:33 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_lessons` ADD CONSTRAINT `fk-user_lessons-course_id` FOREIGN KEY (`course_id`) REFERENCES `course` (`id`)
2024-02-20 20:20:33 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:33 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:33 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221004_130328_redo_question_table', 1708449633)
2024-02-20 20:20:34 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` CHANGE `phone` `phone` varchar(255)
2024-02-20 20:20:34 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:34 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:34 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221011_124913_change_phone_user_table', 1708449634)
2024-02-20 20:20:34 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` ADD `cart` LONGTEXT
2024-02-20 20:20:34 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `webinar` ADD `price` decimal(10,2)
2024-02-20 20:20:34 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:34 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:34 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221016_092456_add_cart_to_user_table', 1708449634)
2024-02-20 20:20:34 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `webinar` ADD `description` text
2024-02-20 20:20:34 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:34 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:35 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221017_041124_add_description_to_webinar_table', 1708449634)
2024-02-20 20:20:35 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `promocode` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`promo` varchar(255) UNIQUE,
	`percent` tinyint(3),
	`status` tinyint(3) DEFAULT 1,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:20:35 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `promocode` COMMENT 'Промо сертификаты'
2024-02-20 20:20:36 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `promocode`
2024-02-20 20:20:36 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `promocode` CHANGE `promo` `promo` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Промо Код'
2024-02-20 20:20:36 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `promocode`
2024-02-20 20:20:36 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `promocode` CHANGE `percent` `percent` tinyint(3) DEFAULT NULL COMMENT 'Сумма сертификата'
2024-02-20 20:20:36 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `promocode`
2024-02-20 20:20:37 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `promocode` CHANGE `status` `status` tinyint(3) DEFAULT 1 COMMENT 'Статус'
2024-02-20 20:20:37 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `promocode`
2024-02-20 20:20:37 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `promocode` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Дата создания'
2024-02-20 20:20:37 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `promocode`
2024-02-20 20:20:37 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `promocode` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Дата обновления'
2024-02-20 20:20:37 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` ADD `promocode_id` int(11)
2024-02-20 20:20:37 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` ADD CONSTRAINT `fk-promocode_id-user` FOREIGN KEY (`promocode_id`) REFERENCES `promocode` (`id`)
2024-02-20 20:20:39 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:41 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:41 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221018_095219_create_promocode_table', 1708449639)
2024-02-20 20:20:41 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `corporate_training` CHANGE `phone` `phone` varchar(255)
2024-02-20 20:20:42 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:44 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:44 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221021_082830_change_corporate_training_table', 1708449642)
2024-02-20 20:20:45 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `timing` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`user_id` int(11) NOT NULL,
	`lesson_id` int(11) NOT NULL,
	`time` varchar(255) NOT NULL
)
2024-02-20 20:20:46 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `timing` ADD CONSTRAINT `fk-user_id-timing` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`)
2024-02-20 20:20:47 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `timing` ADD CONSTRAINT `fk-lesson_id-timing` FOREIGN KEY (`lesson_id`) REFERENCES `lesson` (`id`)
2024-02-20 20:20:49 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:49 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:49 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221021_085414_create_timing_table', 1708449649)
2024-02-20 20:20:49 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `timing` DROP COLUMN `time`
2024-02-20 20:20:50 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `timing` ADD `time` int(11) NOT NULL
2024-02-20 20:20:50 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:51 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:51 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221024_073210_change_time_timing_table', 1708449650)
2024-02-20 20:20:52 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` DROP FOREIGN KEY `fk-promocode_id-user`
2024-02-20 20:20:53 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` DROP COLUMN `promocode_id`
2024-02-20 20:20:54 [-][-][-][info][yii\db\Command::execute] DROP TABLE `promocode`
2024-02-20 20:20:54 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `promocode` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`promo` varchar(255),
	`percent` tinyint(3),
	`status` tinyint(3) DEFAULT 1,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:20:54 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `promocode` COMMENT 'Промо сертификаты'
2024-02-20 20:20:54 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `promocode`
2024-02-20 20:20:54 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `promocode` CHANGE `promo` `promo` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Промо Код'
2024-02-20 20:20:54 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `promocode`
2024-02-20 20:20:54 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `promocode` CHANGE `percent` `percent` tinyint(3) DEFAULT NULL COMMENT 'Сумма сертификата'
2024-02-20 20:20:54 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `promocode`
2024-02-20 20:20:54 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `promocode` CHANGE `status` `status` tinyint(3) DEFAULT 1 COMMENT 'Статус'
2024-02-20 20:20:54 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `promocode`
2024-02-20 20:20:54 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `promocode` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Дата создания'
2024-02-20 20:20:54 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `promocode`
2024-02-20 20:20:54 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `promocode` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Дата обновления'
2024-02-20 20:20:54 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` ADD `promocode_id` int(11)
2024-02-20 20:20:54 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` ADD CONSTRAINT `fk-promocode_id-user` FOREIGN KEY (`promocode_id`) REFERENCES `promocode` (`id`)
2024-02-20 20:20:55 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:55 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:55 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221024_141251_change_promocode_table', 1708449655)
2024-02-20 20:20:55 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` ADD `short_description` varchar(255)
2024-02-20 20:20:55 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `course`
2024-02-20 20:20:55 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `short_description` `short_description` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Краткое описание'
2024-02-20 20:20:55 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:56 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:56 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221101_115327_add_short_description_to_course_table', 1708449655)
2024-02-20 20:20:56 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `transaction` ADD `cart` LONGTEXT
2024-02-20 20:20:56 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `transaction` ADD `promocode_id` int(11)
2024-02-20 20:20:56 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `transaction` ADD `user_id` int(11)
2024-02-20 20:20:56 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `transaction`
2024-02-20 20:20:56 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `transaction` CHANGE `cart` `cart` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Корзина'
2024-02-20 20:20:57 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `transaction`
2024-02-20 20:20:57 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `transaction` CHANGE `promocode_id` `promocode_id` int(11) DEFAULT NULL COMMENT 'Промокод'
2024-02-20 20:20:57 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `transaction`
2024-02-20 20:20:57 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `transaction` CHANGE `user_id` `user_id` int(11) DEFAULT NULL COMMENT 'Пользователь'
2024-02-20 20:20:58 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `transaction` ADD CONSTRAINT `fk-user_id-transaction` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`)
2024-02-20 20:20:59 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `transaction` ADD CONSTRAINT `fk-promocode_id-transaction` FOREIGN KEY (`promocode_id`) REFERENCES `promocode` (`id`)
2024-02-20 20:21:00 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:21:00 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:21:00 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221103_070509_add_columns_to_transaction_table', 1708449660)
2024-02-20 20:21:00 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `setting`
2024-02-20 20:21:00 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'setting' AND `kcu`.`TABLE_NAME` = 'setting'
2024-02-20 20:21:00 [-][-][-][info][yii\db\Command::execute] INSERT INTO `setting` (`title`, `key`, `value`, `created_at`, `updated_at`) VALUES ('Скидка для полного доступа', 'full_access_percent', '10', '2024-02-20 08:21:00', '2024-02-20 08:21:00')
2024-02-20 20:21:00 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:21:01 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:21:01 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221103_124935_add_row_to_setting_table', 1708449660)
2024-02-20 20:21:01 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` ADD `position` int(11)
2024-02-20 20:21:01 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `course`
2024-02-20 20:21:01 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `position` `position` int(11) DEFAULT NULL COMMENT 'Позиция'
2024-02-20 20:21:01 [-][-][-][info][yii\db\Command::query] SELECT * FROM `course`
2024-02-20 20:21:01 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:21:01 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:21:01 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221110_150905_add_position_to_course_table', 1708449661)
2024-02-20 20:21:01 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` ADD INDEX `idx_unique_user_id` (`user_id`, `question_id`)
2024-02-20 20:21:01 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221115_162212_add_index_to_question_table', 1708449661)
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` ADD `reset_password_time` datetime
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user`
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` CHANGE `reset_password_time` `reset_password_time` datetime DEFAULT NULL COMMENT 'Время последнего сброса пароля'
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221125_033441_add_reset_password_time_to_user_table', 1708449662)
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` ADD `vimeo` varchar(255)
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` ADD `vimeo` varchar(255)
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` ADD `vimeo` varchar(255)
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `author`
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` CHANGE `vimeo` `vimeo` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Поле для вимео'
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `course`
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `vimeo` `vimeo` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Поле для вимео'
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `lesson`
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` CHANGE `vimeo` `vimeo` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Поле для вимео'
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221130_044046_add_vimeo_column_to_lesson_table', 1708449662)
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` ADD INDEX `idx_course_id_question` (`course_id`)
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_lessons` ADD INDEX `idx_course_id_user_lessons` (`course_id`, `user_id`)
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:21:03 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:21:03 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221205_140306_add_indexes_to_tables', 1708449662)
2024-02-20 20:21:03 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` ADD `small_photo` varchar(255)
2024-02-20 20:21:03 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `author`
2024-02-20 20:21:03 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` CHANGE `small_photo` `small_photo` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Фото для мобилки'
2024-02-20 20:21:03 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:21:03 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:21:03 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221215_123615_add_small_photo_column_to_author_table', 1708449663)
2024-02-20 20:21:04 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` CHANGE `created_user` `created_user` int(11) NULL DEFAULT NULL
2024-02-20 20:21:04 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `banner` CHANGE `created_user_id` `created_user_id` int(11) NULL DEFAULT NULL
2024-02-20 20:21:05 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `category` CHANGE `created_user` `created_user` int(11) NULL DEFAULT NULL
2024-02-20 20:21:05 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `created_user` `created_user` int(11) NULL DEFAULT NULL
2024-02-20 20:21:07 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` CHANGE `created_user_id` `created_user_id` int(11) NULL DEFAULT NULL
2024-02-20 20:21:08 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` CHANGE `created_user_id` `created_user_id` int(11) NULL DEFAULT NULL
2024-02-20 20:21:11 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `webinar` CHANGE `created_user_id` `created_user_id` int(11) NULL DEFAULT NULL
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221216_102057_update_created_user_in_tables', 1708449672)
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `statistic` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`date` date NOT NULL,
	`average_check` decimal(19,4) NOT NULL,
	`promocode_json` text,
	`author_json` text,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic` COMMENT 'Статистика'
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic`
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic` CHANGE `date` `date` date NOT NULL COMMENT 'Дата'
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic`
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic` CHANGE `average_check` `average_check` decimal(19,4) NOT NULL COMMENT 'Средний чек'
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic`
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic` CHANGE `promocode_json` `promocode_json` text COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Промокоды'
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic`
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic` CHANGE `author_json` `author_json` text COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Спикеры'
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic`
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic`
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Время обновления'
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221222_121107_create_statistic_table', 1708449672)
2024-02-20 20:21:13 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `promocode` CHANGE `percent` `percent` decimal(8,5)
2024-02-20 20:21:13 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221224_091333_change_percent_column_in_promocode_table', 1708449673)
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `statistic_author` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`date` date NOT NULL,
	`author_id` int(11),
	`count` int(11),
	`sum` decimal(10,2),
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic_author` ADD CONSTRAINT `fk-author_id-statistic_author` FOREIGN KEY (`author_id`) REFERENCES `author` (`id`)
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic_author` COMMENT 'Статистика'
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic_author`
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic_author` CHANGE `date` `date` date NOT NULL COMMENT 'Дата'
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic_author`
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic_author` CHANGE `author_id` `author_id` int(11) DEFAULT NULL COMMENT 'Спикеры'
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic_author`
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic_author` CHANGE `count` `count` int(11) DEFAULT NULL COMMENT 'Количество'
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic_author`
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic_author` CHANGE `sum` `sum` decimal(10,2) DEFAULT NULL COMMENT 'Сумма'
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic_author`
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic_author` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic_author`
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic_author` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Время обновления'
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:21:16 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:21:16 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221227_135300_create_statistic_author_tables', 1708449674)
2024-02-20 20:21:16 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `statistic_promocode` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`date` date NOT NULL,
	`promo` text,
	`count` int(11),
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:21:16 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic_promocode` COMMENT 'Статистика'
2024-02-20 20:21:16 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic_promocode`
2024-02-20 20:21:16 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic_promocode` CHANGE `date` `date` date NOT NULL COMMENT 'Дата'
2024-02-20 20:21:16 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic_promocode`
2024-02-20 20:21:16 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic_promocode` CHANGE `promo` `promo` text COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Промокоды'
2024-02-20 20:21:16 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic_promocode`
2024-02-20 20:21:16 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic_promocode` CHANGE `count` `count` int(11) DEFAULT NULL COMMENT 'Количество'
2024-02-20 20:21:16 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic_promocode`
2024-02-20 20:21:16 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic_promocode` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:21:16 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic_promocode`
2024-02-20 20:21:16 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic_promocode` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Время обновления'
2024-02-20 20:21:16 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:21:17 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:21:17 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221227_135441_create_statistic_promocode_table', 1708449676)
2024-02-20 20:21:17 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` ADD `apple_id` varchar(255)
2024-02-20 20:21:17 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:21:17 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:21:17 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m230126_130606_add_apple_id_to_course_table', 1708449677)
2024-02-20 20:21:17 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `setting`
2024-02-20 20:21:17 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'setting' AND `kcu`.`TABLE_NAME` = 'setting'
2024-02-20 20:21:17 [-][-][-][info][yii\db\Command::execute] INSERT INTO `setting` (`title`, `key`, `value`, `created_at`, `updated_at`) VALUES ('Время в минутах, когда активен платеж', 'pay_limit', '20', '2024-02-20 08:21:17', '2024-02-20 08:21:17')
2024-02-20 20:21:17 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:21:17 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:21:17 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m230403_104958_add_row_to_setting_table', 1708449677)
2024-02-20 20:17:28 [-][-][-][info][application] $_GET = []

$_POST = []

$_FILES = []

$_COOKIE = []

$_SERVER = [
    'PHP_COMMAND' => 'php.exe'
    'PROMPT' => '$P$G'
    'PSExecutionPolicyPreference' => 'Bypass'
    'TERM_SESSION_ID' => '9a988555-dab7-4126-ba50-931df88c6c95'
    'YII_PATH' => 'C:\\Users\\\\Desktop\\OpenServer\\domains\\yii2-school-backend\\'
    'ZES_ENABLE_SYSMAN' => '1'
    'ProgramW6432' => 'C:\\Program Files'
    'CLION_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\clion.vmoptions'
    'JETBRAINS_CLIENT_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\jetbrains_client.vmoptions'
    'DATAGRIP_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\datagrip.vmoptions'
    'FIG_JETBRAINS_SHELL_INTEGRATION' => '1'
    'CommonProgramW6432' => 'C:\\Program Files\\Common Files'
    'USERNAME' => ''
    'ALLUSERSPROFILE' => 'C:\\ProgramData'
    'USERPROFILE' => 'C:\\Users\\'
    'RUBYMINE_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\rubymine.vmoptions'
    'PROCESSOR_REVISION' => '7e05'
    'IDEA_INITIAL_DIRECTORY' => 'c:\\program files\\jetbrains\\phpstorm 2023.2.3\\bin'
    'PUBLIC' => 'C:\\Users\\Public'
    'PYCHARM_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\pycharm.vmoptions'
    'Path' => 'W:\\modules\\php\\PHP_7.4;w:\\modules\\php\\PHP_7.4\\ext;w:\\modules\\php\\PHP_7.4\\pear;w:\\modules\\php\\PHP_7.4\\pear\\bin;w:\\modules\\php\\PHP_7.4;w:\\modules\\wget\\bin;w:\\modules\\database\\MariaDB-10.3\\bin;w:\\modules\\http\\Apache_2.4-PHP_7.2-7.4\\bin;w:\\modules\\http\\Apache_2.4-PHP_7.2-7.4;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\system32\\Wbem;C:\\WINDOWS\\SysWOW64;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files (x86)\\Microsoft SQL Server\\140\\Tools\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\140\\Tools\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\140\\DTS\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\Client SDK\\ODBC\\130\\Tools\\Binn\\;C:\\Program Files\\Java\\jdk-14.0.2\\bin;C:\\Program Files (x86)\\GtkSharp\\2.12\\bin;C:\\Program Files (x86)\\Windows Kits\\8.0\\Windows Performance Toolkit\\;C:\\Program Files\\dotnet\\;C:\\Program Files\\OpenVPN\\bin;C:\\Program Files\\Microsoft SQL Server\\Client SDK\\ODBC\\170\\Tools\\Binn\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Users\\\\Desktop\\Git\\cmd;C:\\miniconda3;C:\\miniconda3\\Library\\mingw-w64\\bin;C:\\miniconda3\\Library\\usr\\bin;C:\\miniconda3\\Library\\bin;C:\\miniconda3\\Scripts;C:\\Users\\\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\\\Desktop\\\\Microsoft VS Code\\bin;C:\\Users\\\\.dotnet\\tools;C:\\Program Files\\JetBrains\\PhpStorm 2021.3.3\\bin;C:\\Program Files\\Azure Data Studio\\bin'
    'DriverData' => 'C:\\Windows\\System32\\Drivers\\DriverData'
    'JETBRAINSCLIENT_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\jetbrainsclient.vmoptions'
    'IDEA_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\idea.vmoptions'
    'HOME' => 'w:\\'
    'LOGONSERVER' => '\\\\LAPTOP-3C9IPRTN'
    'PHP_PEAR_PHP_BIN' => 'w:\\modules\\php\\PHP_7.4\\php.exe'
    'APPCODE_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\appcode.vmoptions'
    'TERMINAL_EMULATOR' => 'JetBrains-JediTerm'
    'PHP_PEAR_BIN_DIR' => 'w:\\modules\\php\\PHP_7.4\\PEAR'
    'PHP_PEAR_SYSCONF_DIR' => 'w:\\modules\\php\\PHP_7.4\\PEAR'
    'HOMEPATH' => '\\'
    'STUDIO_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\studio.vmoptions'
    'PHP_DIR' => 'w:\\modules\\php\\PHP_7.4\\'
    'SystemRoot' => 'C:\\WINDOWS'
    'HOMEDRIVE' => 'w:'
    'PHP_BIN' => 'w:\\modules\\php\\PHP_7.4\\php.exe'
    'PHPDIR' => 'w:\\modules\\php\\PHP_7.4\\'
    'LOCALAPPDATA' => 'C:\\Users\\\\AppData\\Local'
    'VS160COMCOMNTOOLS' => 'C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\Common7\\Tools\\'
    'APPDATA' => 'C:\\Users\\\\AppData\\Roaming'
    'PROCESSOR_IDENTIFIER' => 'Intel64 Family 6 Model 126 Stepping 5, GenuineIntel'
    'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL'
    'PSModulePath' => 'C:\\Users\\\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules;C:\\Program Files (x86)\\Microsoft SQL Server\\140\\Tools\\PowerShell\\Modules\\'
    'ProgramFiles(x86)' => 'C:\\Program Files (x86)'
    'PHP_PEAR_DOC_DIR' => 'w:\\modules\\php\\PHP_7.4\\PEAR\\docs'
    'PHP_PEAR_DATA_DIR' => 'w:\\modules\\php\\PHP_7.4\\PEAR\\data'
    'PHP_BINARY' => 'w:\\modules\\php\\PHP_7.4\\php.exe'
    'PHPSTORM_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\phpstorm.vmoptions'
    'WEBIDE_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\webide.vmoptions'
    'RIDER_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\rider.vmoptions'
    'OS' => 'Windows_NT'
    'WEBSTORM_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\webstorm.vmoptions'
    'PROCESSOR_ARCHITECTURE' => 'AMD64'
    'PHP_BINDIR' => 'w:\\modules\\php\\PHP_7.4\\'
    'PhpStorm' => 'C:\\Program Files\\JetBrains\\PhpStorm 2021.3.3\\bin;'
    'ComSpec' => 'C:\\WINDOWS\\system32\\cmd.exe'
    'PROCESSOR_LEVEL' => '6'
    'NUMBER_OF_PROCESSORS' => '4'
    'DEVECOSTUDIO_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\devecostudio.vmoptions'
    'USERDOMAIN_ROAMINGPROFILE' => 'LAPTOP-3C9IPRTN'
    'windir' => 'C:\\WINDOWS'
    'ProgramFiles' => 'C:\\Program Files'
    'OPENSSL_CONF' => 'w:\\modules\\http\\Apache_2.4-PHP_7.2-7.4\\conf\\openssl.cnf'
    'DATASPELL_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\dataspell.vmoptions'
    'Assembler' => 'C:\\Users\\\\Downloads\\Asembler\\BIN'
    'TEMP' => 'c:\\users\\\\desktop\\openserver\\userdata\\temp'
    'TMP' => 'c:\\users\\\\desktop\\openserver\\userdata\\temp'
    'GATEWAY_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\gateway.vmoptions'
    'PHP_INI' => 'w:\\modules\\php\\PHP_7.4\\php.ini'
    'PHPRC' => 'w:\\modules\\php\\PHP_7.4'
    'OneDriveConsumer' => 'C:\\Users\\\\OneDrive'
    'SystemDrive' => 'C:'
    'OneDriveCommercial' => 'C:\\Users\\\\OneDrive - al-Farabi Kazakh National University'
    'PHP_PEAR_INSTALL_DIR' => 'w:\\modules\\php\\PHP_7.4\\PEAR\\pear'
    'ProgramData' => 'C:\\ProgramData'
    'COMPUTERNAME' => 'LAPTOP-3C9IPRTN'
    'PHPBIN' => 'w:\\modules\\php\\PHP_7.4\\php.exe'
    'USERDOMAIN' => 'LAPTOP-3C9IPRTN'
    'OneDrive' => 'C:\\Users\\\\OneDrive - al-Farabi Kazakh National University'
    'PHP_PEAR_TEST_DIR' => 'w:\\modules\\php\\PHP_7.4\\PEAR\\tests'
    'GOLAND_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\goland.vmoptions'
    'CommonProgramFiles(x86)' => 'C:\\Program Files (x86)\\Common Files'
    'CommonProgramFiles' => 'C:\\Program Files\\Common Files'
    'PHP_SELF' => 'C:\\Users\\фора\\Desktop\\OpenServer\\domains\\yii2-school-backend\\yii'
    'SCRIPT_NAME' => 'C:\\Users\\фора\\Desktop\\OpenServer\\domains\\yii2-school-backend\\yii'
    'SCRIPT_FILENAME' => 'C:\\Users\\фора\\Desktop\\OpenServer\\domains\\yii2-school-backend\\yii'
    'PATH_TRANSLATED' => 'C:\\Users\\фора\\Desktop\\OpenServer\\domains\\yii2-school-backend\\yii'
    'DOCUMENT_ROOT' => ''
    'REQUEST_TIME_FLOAT' => 1708449447.5595
    'REQUEST_TIME' => 1708449447
    'argv' => [
        0 => 'C:\\Users\\фора\\Desktop\\OpenServer\\domains\\yii2-school-backend\\yii'
        1 => 'migrate'
    ]
    'argc' => 2
]
2024-02-20 20:17:28 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:17:28 [-][-][-][info][yii\db\Connection::open] Opening DB connection: mysql:host=localhost;dbname=learning2
2024-02-20 20:17:29 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `migration` (
	`version` varchar(180) NOT NULL PRIMARY KEY,
	`apply_time` int(11)
)
2024-02-20 20:17:29 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:17:29 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:17:29 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m000000_000000_base', 1708449449)
2024-02-20 20:17:29 [-][-][-][info][yii\db\Command::query] SELECT `version`, `apply_time` FROM `migration` ORDER BY `apply_time` DESC, `version` DESC
2024-02-20 20:17:29 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:17:29 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `user` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`username` varchar(255) NOT NULL UNIQUE,
	`fullname` varchar(255),
	`auth_key` varchar(32) NOT NULL,
	`password_hash` varchar(255) NOT NULL,
	`password_reset_token` varchar(255) UNIQUE,
	`email` varchar(255) NOT NULL UNIQUE,
	`role` smallint(6) DEFAULT 2,
	`city_id` smallint(6),
	`status` smallint(6) NOT NULL DEFAULT 10,
	`created_at` int(11) NOT NULL,
	`updated_at` int(11) NOT NULL
) CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE=InnoDB
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `user`
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'user' AND `kcu`.`TABLE_NAME` = 'user'
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::execute] INSERT INTO `user` (`username`, `fullname`, `auth_key`, `password_hash`, `email`, `role`, `status`, `created_at`, `updated_at`) VALUES ('admin', 'admin admin admin', 'knrFK88QyEjIBMga3UlpuTeHyygLMMqk', '$2y$13$HQXwsLWTYwXrLy/Dd5hLT.shamK/T1VnshuRPZzjBMLhItoqFXOym', 'admin@admin.admin', 1, 10, 1708417050, 1708417050)
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` COMMENT 'Пользователи'
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user`
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` CHANGE `username` `username` varchar(255) COLLATE utf8_unicode_ci NOT NULL COMMENT 'Логин'
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user`
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` CHANGE `fullname` `fullname` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL COMMENT 'Полное имя'
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user`
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` CHANGE `auth_key` `auth_key` varchar(32) COLLATE utf8_unicode_ci NOT NULL COMMENT 'Ключ авторизации'
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user`
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` CHANGE `password_hash` `password_hash` varchar(255) COLLATE utf8_unicode_ci NOT NULL COMMENT 'Хэш пароля'
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user`
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` CHANGE `password_reset_token` `password_reset_token` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL COMMENT 'Хэш сброса пароля'
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user`
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` CHANGE `email` `email` varchar(255) COLLATE utf8_unicode_ci NOT NULL COMMENT 'Электронная почта'
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user`
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` CHANGE `role` `role` smallint(6) DEFAULT 2 COMMENT 'Роль'
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user`
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` CHANGE `city_id` `city_id` smallint(6) DEFAULT NULL COMMENT 'Город'
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user`
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` CHANGE `status` `status` smallint(6) NOT NULL DEFAULT 10 COMMENT 'Статус'
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user`
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` CHANGE `created_at` `created_at` int(11) NOT NULL COMMENT 'Дата создания'
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user`
2024-02-20 20:17:30 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` CHANGE `updated_at` `updated_at` int(11) NOT NULL COMMENT 'Дата обновления'
2024-02-20 20:17:31 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:17:31 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:17:31 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m130524_201442_init', 1708449451)
2024-02-20 20:17:31 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `material` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`title` varchar(255) NOT NULL,
	`content` text,
	`img` varchar(255),
	`status` smallint(6) NOT NULL DEFAULT 0,
	`slug` varchar(255) NOT NULL,
	`meta_description` varchar(255),
	`meta_keywords` varchar(255),
	`created_by` int(11) NULL DEFAULT NULL,
	`created_at` datetime NOT NULL DEFAULT '2024-02-20 20:17:31',
	`updated_at` datetime NOT NULL DEFAULT '2024-02-20 20:17:31'
)
2024-02-20 20:17:32 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:17:32 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:17:32 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m180825_070027_create_material_table', 1708449452)
2024-02-20 20:17:32 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `menu` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`title` varchar(255) NOT NULL,
	`url` varchar(255),
	`icon` varchar(255),
	`status` smallint(6) NOT NULL DEFAULT 0,
	`created_by` int(11) NULL DEFAULT NULL,
	`created_at` datetime NOT NULL DEFAULT '2024-02-20 20:17:32',
	`updated_at` datetime NOT NULL DEFAULT '2024-02-20 20:17:32'
)
2024-02-20 20:17:34 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:17:34 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:17:34 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220107_062209_create_menu_table', 1708449454)
2024-02-20 20:17:34 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` ADD `f_token` varchar(255)
2024-02-20 20:17:34 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` ADD `phone` varchar(255) NOT NULL
2024-02-20 20:17:35 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user`
2024-02-20 20:17:35 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` CHANGE `f_token` `f_token` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL COMMENT 'Токен firebase'
2024-02-20 20:17:36 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user`
2024-02-20 20:17:36 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` CHANGE `phone` `phone` varchar(255) COLLATE utf8_unicode_ci NOT NULL COMMENT 'Телефон'
2024-02-20 20:17:37 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:17:39 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:17:39 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220527_084424_change_user_table', 1708449457)
2024-02-20 20:17:39 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `author` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`fio` varchar(255) NOT NULL,
	`created_user` int(11) NOT NULL,
	`status` tinyint(3) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:17:40 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` ADD CONSTRAINT `fk-created_user-author` FOREIGN KEY (`created_user`) REFERENCES `user` (`id`)
2024-02-20 20:17:42 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` COMMENT 'Автор'
2024-02-20 20:17:42 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `author`
2024-02-20 20:17:42 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` CHANGE `fio` `fio` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'ФИО'
2024-02-20 20:17:42 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `author`
2024-02-20 20:17:42 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` CHANGE `created_user` `created_user` int(11) NOT NULL COMMENT 'Создан пользователем'
2024-02-20 20:17:42 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `author`
2024-02-20 20:17:42 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` CHANGE `status` `status` tinyint(3) NOT NULL COMMENT 'Статус'
2024-02-20 20:17:42 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `author`
2024-02-20 20:17:42 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:17:42 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `author`
2024-02-20 20:17:42 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Время обновления'
2024-02-20 20:17:42 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:17:42 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:17:42 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220719_052703_create_author_table', 1708449462)
2024-02-20 20:17:42 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `category` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`title` varchar(255) NOT NULL,
	`description` text,
	`created_user` int(11) NOT NULL,
	`status` tinyint(3) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `category` ADD CONSTRAINT `fk-created_user-category` FOREIGN KEY (`created_user`) REFERENCES `user` (`id`)
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `category` COMMENT 'Категория'
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `category`
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `category` CHANGE `title` `title` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Название'
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `category`
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `category` CHANGE `description` `description` text COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Описание'
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `category`
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `category` CHANGE `created_user` `created_user` int(11) NOT NULL COMMENT 'Создан пользователем'
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `category`
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `category` CHANGE `status` `status` tinyint(3) NOT NULL COMMENT 'Статус'
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `category`
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `category` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `category`
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `category` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Время обновления'
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220719_065236_create_category_table', 1708449463)
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `course` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`title` varchar(255) NOT NULL,
	`description` text,
	`author_id` int(11) NOT NULL,
	`category_id` int(11) NOT NULL,
	`created_user` int(11) NOT NULL,
	`status` tinyint(3) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:17:43 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` ADD CONSTRAINT `fk-created_user-course` FOREIGN KEY (`created_user`) REFERENCES `user` (`id`)
2024-02-20 20:17:44 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` ADD CONSTRAINT `fk-author_id-course` FOREIGN KEY (`author_id`) REFERENCES `author` (`id`)
2024-02-20 20:17:44 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` ADD CONSTRAINT `fk-category_id-course` FOREIGN KEY (`category_id`) REFERENCES `category` (`id`)
2024-02-20 20:17:44 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` COMMENT 'Курс'
2024-02-20 20:17:44 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `course`
2024-02-20 20:17:44 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `title` `title` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Название'
2024-02-20 20:17:44 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `course`
2024-02-20 20:17:44 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `description` `description` text COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Описание'
2024-02-20 20:17:44 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `course`
2024-02-20 20:17:44 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `author_id` `author_id` int(11) NOT NULL COMMENT 'Создан пользователем'
2024-02-20 20:17:44 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `course`
2024-02-20 20:17:44 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `category_id` `category_id` int(11) NOT NULL COMMENT 'Создан пользователем'
2024-02-20 20:17:44 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `course`
2024-02-20 20:17:44 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `created_user` `created_user` int(11) NOT NULL COMMENT 'Создан пользователем'
2024-02-20 20:17:44 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `course`
2024-02-20 20:17:45 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `status` `status` tinyint(3) NOT NULL COMMENT 'Статус'
2024-02-20 20:17:45 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `course`
2024-02-20 20:17:45 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:17:45 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `course`
2024-02-20 20:17:45 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Время обновления'
2024-02-20 20:17:45 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:17:46 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:17:46 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220719_082409_create_course_table', 1708449465)
2024-02-20 20:17:46 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `user_refresh_tokens` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`urf_userID` int(10) NOT NULL,
	`urf_token` varchar(1000) NOT NULL,
	`urf_ip` varchar(50) NOT NULL,
	`urf_user_agent` varchar(1000) NOT NULL,
	`urf_created` datetime
)
2024-02-20 20:17:46 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:17:46 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:17:46 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220721_072211_create_user_refresh_tokens_table', 1708449466)
2024-02-20 20:17:46 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `lesson` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`title` varchar(255) NOT NULL,
	`description` text,
	`video` varchar(255) NOT NULL,
	`course_id` int(11) NOT NULL,
	`position` int(11) NOT NULL,
	`status` tinyint(3) NOT NULL,
	`created_user_id` int(11) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:17:46 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` ADD CONSTRAINT `fk-created_user-lesson` FOREIGN KEY (`created_user_id`) REFERENCES `user` (`id`)
2024-02-20 20:17:46 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` ADD CONSTRAINT `fk-course_id-lesson` FOREIGN KEY (`course_id`) REFERENCES `course` (`id`)
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` COMMENT 'Урок'
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `lesson`
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` CHANGE `title` `title` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Название'
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `lesson`
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` CHANGE `description` `description` text COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Описание'
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `lesson`
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` CHANGE `video` `video` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Видео'
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `lesson`
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` CHANGE `course_id` `course_id` int(11) NOT NULL COMMENT 'Курс'
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `lesson`
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` CHANGE `position` `position` int(11) NOT NULL COMMENT 'Позиция'
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `lesson`
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` CHANGE `created_user_id` `created_user_id` int(11) NOT NULL COMMENT 'Создан пользователем'
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `lesson`
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` CHANGE `status` `status` tinyint(3) NOT NULL COMMENT 'Статус'
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `lesson`
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `lesson`
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Время обновления'
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:17:47 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220801_071812_create_lesson_table', 1708449467)
2024-02-20 20:17:48 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` ADD `price` decimal(10,2)
2024-02-20 20:17:48 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `course`
2024-02-20 20:17:48 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `price` `price` decimal(10,2) DEFAULT NULL COMMENT 'Цена'
2024-02-20 20:18:32 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:18:34 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:18:34 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220802_074635_add_price_column_to_course_table', 1708449512)
2024-02-20 20:18:34 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `report` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`email` varchar(255) NOT NULL,
	`code` varchar(255) NOT NULL,
	`status` tinyint(3) NOT NULL DEFAULT 1,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:18:36 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `report` COMMENT 'СМС'
2024-02-20 20:18:37 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `report`
2024-02-20 20:18:37 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `report` CHANGE `email` `email` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Email'
2024-02-20 20:18:37 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `report`
2024-02-20 20:18:37 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `report` CHANGE `code` `code` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Код'
2024-02-20 20:18:38 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `report`
2024-02-20 20:18:38 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `report` CHANGE `status` `status` tinyint(3) NOT NULL DEFAULT 1 COMMENT 'Статус'
2024-02-20 20:18:39 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `report`
2024-02-20 20:18:39 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `report` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Дата создания'
2024-02-20 20:18:40 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `report`
2024-02-20 20:18:40 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `report` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Дата изменения'
2024-02-20 20:18:41 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:18:43 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:18:43 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220802_091808_create_report_table', 1708449521)
2024-02-20 20:18:43 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `refferral_user` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`ref_user_id` int(11) NOT NULL,
	`user_id` int(11) NOT NULL
)
2024-02-20 20:18:44 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `refferral_user` ADD CONSTRAINT `fk-ref_user_id-refferral_user` FOREIGN KEY (`ref_user_id`) REFERENCES `user` (`id`)
2024-02-20 20:18:45 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `refferral_user` ADD CONSTRAINT `fk-user_id-refferral_user` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`)
2024-02-20 20:18:46 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` ADD `ref_count` int(11) DEFAULT 0
2024-02-20 20:18:46 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` ADD `ref_string` text
2024-02-20 20:18:46 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:18:46 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:18:46 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220802_120326_create_refferral_user_table', 1708449526)
2024-02-20 20:18:46 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `purchased_course` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`user_id` int(11) NOT NULL,
	`course_id` int(11) NOT NULL,
	`price` decimal(10,2) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:18:47 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_course` ADD CONSTRAINT `fk-user_id-purchased_course` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`)
2024-02-20 20:18:48 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_course` ADD CONSTRAINT `fk-course_id-purchased_course` FOREIGN KEY (`course_id`) REFERENCES `course` (`id`)
2024-02-20 20:18:51 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_course` COMMENT 'Купленные курсы'
2024-02-20 20:18:52 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `purchased_course`
2024-02-20 20:18:52 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_course` CHANGE `user_id` `user_id` int(11) NOT NULL COMMENT 'Пользователь'
2024-02-20 20:18:53 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `purchased_course`
2024-02-20 20:18:53 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_course` CHANGE `course_id` `course_id` int(11) NOT NULL COMMENT 'Курс'
2024-02-20 20:18:53 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `purchased_course`
2024-02-20 20:18:53 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_course` CHANGE `price` `price` decimal(10,2) NOT NULL COMMENT 'Цена'
2024-02-20 20:18:53 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `purchased_course`
2024-02-20 20:18:53 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_course` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:18:53 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `purchased_course`
2024-02-20 20:18:53 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_course` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Время обновления'
2024-02-20 20:18:53 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` ADD `full_access` tinyint(1) DEFAULT 0
2024-02-20 20:18:53 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:18:54 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:18:54 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220803_110736_create_purchased_course_table', 1708449533)
2024-02-20 20:18:55 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` ADD `ava` varchar(255)
2024-02-20 20:18:55 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:18:57 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:18:57 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220804_101318_add_ava_column_to_user_table', 1708449535)
2024-02-20 20:18:57 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `webinar` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`link` varchar(255) NOT NULL,
	`date` datetime NOT NULL,
	`course_id` int(11) NOT NULL,
	`status` tinyint(3) NOT NULL,
	`created_user_id` int(11) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:18:58 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `webinar` ADD CONSTRAINT `fk-created_user-webinar` FOREIGN KEY (`created_user_id`) REFERENCES `user` (`id`)
2024-02-20 20:18:58 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `webinar` ADD CONSTRAINT `fk-course_id-webinar` FOREIGN KEY (`course_id`) REFERENCES `course` (`id`)
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `webinar` COMMENT 'Вебинар'
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `webinar`
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `webinar` CHANGE `link` `link` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Ссылка'
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `webinar`
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `webinar` CHANGE `date` `date` datetime NOT NULL COMMENT 'Дата'
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `webinar`
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `webinar` CHANGE `course_id` `course_id` int(11) NOT NULL COMMENT 'Курс'
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `webinar`
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `webinar` CHANGE `created_user_id` `created_user_id` int(11) NOT NULL COMMENT 'Создан пользователем'
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `webinar`
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `webinar` CHANGE `status` `status` tinyint(3) NOT NULL COMMENT 'Статус'
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `webinar`
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `webinar` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `webinar`
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `webinar` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Время обновления'
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220808_072831_create_webinar_table', 1708449541)
2024-02-20 20:19:01 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `random_seed` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`random_seed` int(11)
)
2024-02-20 20:19:02 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:03 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:03 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220808_131057_create_random_seed_table', 1708449542)
2024-02-20 20:19:04 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `corporate_training` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`name` varchar(255) NOT NULL,
	`phone` varchar(255) NOT NULL,
	`text` text NOT NULL,
	`status` tinyint(3) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:19:04 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `corporate_training` COMMENT 'Корпоративное обучение'
2024-02-20 20:19:05 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `corporate_training`
2024-02-20 20:19:05 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `corporate_training` CHANGE `name` `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Имя'
2024-02-20 20:19:05 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `corporate_training`
2024-02-20 20:19:05 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `corporate_training` CHANGE `phone` `phone` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Телефон'
2024-02-20 20:19:05 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `corporate_training`
2024-02-20 20:19:05 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `corporate_training` CHANGE `text` `text` text COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Текст'
2024-02-20 20:19:06 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `corporate_training`
2024-02-20 20:19:06 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `corporate_training` CHANGE `status` `status` tinyint(3) NOT NULL COMMENT 'Статус'
2024-02-20 20:19:06 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `corporate_training`
2024-02-20 20:19:06 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `corporate_training` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:19:06 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `corporate_training`
2024-02-20 20:19:06 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `corporate_training` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Время обновления'
2024-02-20 20:19:06 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:06 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:06 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220809_073142_create_corporate_training_table', 1708449546)
2024-02-20 20:19:06 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `question` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`lesson_id` int(11) NOT NULL,
	`text` text NOT NULL,
	`position` int(11) NOT NULL,
	`type` tinyint(3) NOT NULL,
	`answer` text NOT NULL,
	`created_user_id` int(11) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:19:07 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` ADD CONSTRAINT `fk-created_user-question` FOREIGN KEY (`created_user_id`) REFERENCES `user` (`id`)
2024-02-20 20:19:09 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` ADD CONSTRAINT `fk-lesson_id-question` FOREIGN KEY (`lesson_id`) REFERENCES `lesson` (`id`)
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` COMMENT 'Домашние задания'
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `question`
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` CHANGE `lesson_id` `lesson_id` int(11) NOT NULL COMMENT 'Урок'
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `question`
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` CHANGE `position` `position` int(11) NOT NULL COMMENT 'Позиция'
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `question`
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` CHANGE `type` `type` tinyint(3) NOT NULL COMMENT 'Тип'
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `question`
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` CHANGE `answer` `answer` text COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Ответ'
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `question`
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` CHANGE `created_user_id` `created_user_id` int(11) NOT NULL COMMENT 'Создан пользователем'
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `question`
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `question`
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Время обновления'
2024-02-20 20:19:11 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `user_answer` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`user_id` int(11) NOT NULL,
	`question_id` int(11) NOT NULL,
	`answer` text NOT NULL,
	`right` tinyint(1) NOT NULL,
	`created_at` datetime
)
2024-02-20 20:19:13 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` ADD CONSTRAINT `fk-user_id-user_answer` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`)
2024-02-20 20:19:13 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` ADD CONSTRAINT `fk-question_id-user_answer` FOREIGN KEY (`question_id`) REFERENCES `question` (`id`)
2024-02-20 20:19:14 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` COMMENT 'Ответы пользователей'
2024-02-20 20:19:14 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_answer`
2024-02-20 20:19:14 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` CHANGE `user_id` `user_id` int(11) NOT NULL COMMENT 'Пользователь'
2024-02-20 20:19:14 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_answer`
2024-02-20 20:19:14 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` CHANGE `question_id` `question_id` int(11) NOT NULL COMMENT 'Домашнее задание'
2024-02-20 20:19:14 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_answer`
2024-02-20 20:19:14 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` CHANGE `answer` `answer` text COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Ответ'
2024-02-20 20:19:14 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_answer`
2024-02-20 20:19:14 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` CHANGE `right` `right` tinyint(1) NOT NULL COMMENT 'Правильно'
2024-02-20 20:19:15 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_answer`
2024-02-20 20:19:15 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:19:15 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `user_result` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`user_id` int(11) NOT NULL,
	`lesson_id` int(11) NOT NULL,
	`score` text NOT NULL,
	`created_at` datetime
)
2024-02-20 20:19:15 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_result` ADD CONSTRAINT `fk-user_id-user_result` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`)
2024-02-20 20:19:15 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_result` ADD CONSTRAINT `fk-lesson_id-user_result` FOREIGN KEY (`lesson_id`) REFERENCES `lesson` (`id`)
2024-02-20 20:19:15 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_result` COMMENT 'Результаты пользовтелей'
2024-02-20 20:19:15 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_result`
2024-02-20 20:19:15 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_result` CHANGE `user_id` `user_id` int(11) NOT NULL COMMENT 'Пользователь'
2024-02-20 20:19:15 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_result`
2024-02-20 20:19:15 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_result` CHANGE `lesson_id` `lesson_id` int(11) NOT NULL COMMENT 'Урок'
2024-02-20 20:19:15 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_result`
2024-02-20 20:19:15 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_result` CHANGE `score` `score` text COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Результат'
2024-02-20 20:19:16 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_result`
2024-02-20 20:19:16 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_result` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:19:16 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:17 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:17 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220810_072004_create_question_table', 1708449556)
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` ADD `description` text
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` ADD `photo` varchar(255)
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `author`
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` CHANGE `description` `description` text COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Описание'
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `author`
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` CHANGE `photo` `photo` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Фото'
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220812_111109_add_columns_to_author_table', 1708449558)
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `setting` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`title` varchar(255),
	`key` varchar(255) NOT NULL,
	`value` decimal(10,2) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `setting` COMMENT 'Настройки'
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `setting`
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `setting` CHANGE `title` `title` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Название'
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `setting`
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `setting` CHANGE `key` `key` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Ключ'
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `setting`
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `setting` CHANGE `value` `value` decimal(10,2) NOT NULL COMMENT 'Значение'
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `setting`
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `setting` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Дата создания'
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `setting`
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `setting` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Дата обновления'
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220812_131155_create_setting_table', 1708449558)
2024-02-20 20:19:18 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `banner` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`title` varchar(255) NOT NULL,
	`path` varchar(255) NOT NULL,
	`size` int(11) NOT NULL,
	`position` int(11),
	`zone` smallint(6),
	`url` varchar(255),
	`status` tinyint(3) NOT NULL DEFAULT 0,
	`published_at` datetime,
	`created_user_id` int(11) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:19:19 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `banner` ADD CONSTRAINT `fk-created_user-banner` FOREIGN KEY (`created_user_id`) REFERENCES `user` (`id`)
2024-02-20 20:19:19 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `banner` COMMENT 'Баннеры'
2024-02-20 20:19:19 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `banner`
2024-02-20 20:19:19 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `banner` CHANGE `title` `title` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Заголовок'
2024-02-20 20:19:20 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `banner`
2024-02-20 20:19:20 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `banner` CHANGE `path` `path` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Путь'
2024-02-20 20:19:21 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `banner`
2024-02-20 20:19:21 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `banner` CHANGE `size` `size` int(11) NOT NULL COMMENT 'Размер'
2024-02-20 20:19:21 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `banner`
2024-02-20 20:19:21 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `banner` CHANGE `position` `position` int(11) DEFAULT NULL COMMENT 'Позиция'
2024-02-20 20:19:21 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `banner`
2024-02-20 20:19:22 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `banner` CHANGE `zone` `zone` smallint(6) DEFAULT NULL COMMENT 'Зона'
2024-02-20 20:19:22 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `banner`
2024-02-20 20:19:22 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `banner` CHANGE `url` `url` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Ссылка'
2024-02-20 20:19:22 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `banner`
2024-02-20 20:19:22 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `banner` CHANGE `status` `status` tinyint(3) NOT NULL DEFAULT 0 COMMENT 'Статус'
2024-02-20 20:19:22 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `banner`
2024-02-20 20:19:22 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `banner` CHANGE `published_at` `published_at` datetime DEFAULT NULL COMMENT 'Дата публикации'
2024-02-20 20:19:22 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `banner`
2024-02-20 20:19:22 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `banner` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Дата создания'
2024-02-20 20:19:22 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `banner`
2024-02-20 20:19:22 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `banner` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Дата изменения'
2024-02-20 20:19:22 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:22 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:22 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220812_132344_create_banner_table', 1708449562)
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `transaction` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`amount` decimal(10,2) NOT NULL,
	`payment_type` smallint(6) NOT NULL,
	`pay_id` varchar(255),
	`status` smallint(6) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `transaction` COMMENT 'Транзакции'
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `transaction`
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `transaction` CHANGE `amount` `amount` decimal(10,2) NOT NULL COMMENT 'Цена'
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `transaction`
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `transaction` CHANGE `payment_type` `payment_type` smallint(6) NOT NULL COMMENT 'Способ оплаты'
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `transaction`
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `transaction` CHANGE `pay_id` `pay_id` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Идентификатор транзакции в cloud payments'
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `transaction`
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `transaction` CHANGE `status` `status` smallint(6) NOT NULL COMMENT 'Статус'
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `transaction`
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `transaction` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `transaction`
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `transaction` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Время обновления'
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:23 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220814_074055_create_transaction_table', 1708449563)
2024-02-20 20:19:24 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `corporate_training` ADD `email` varchar(255)
2024-02-20 20:19:24 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `corporate_training`
2024-02-20 20:19:24 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `corporate_training` CHANGE `email` `email` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Электронная почта'
2024-02-20 20:19:24 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:24 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:24 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220814_075302_add_email_to_corporate_training', 1708449564)
2024-02-20 20:19:24 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` ADD `photo` varchar(255)
2024-02-20 20:19:24 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `course`
2024-02-20 20:19:24 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `photo` `photo` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Фото'
2024-02-20 20:19:24 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:25 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:25 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220814_102400_add_photo_to_course_table', 1708449564)
2024-02-20 20:19:25 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `category` ADD `photo` varchar(255)
2024-02-20 20:19:26 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `category`
2024-02-20 20:19:26 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `category` CHANGE `photo` `photo` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Фото'
2024-02-20 20:19:26 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:27 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:27 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220814_102538_add_photo_to_category_table', 1708449566)
2024-02-20 20:19:27 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` DROP COLUMN `username`
2024-02-20 20:19:28 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220815_072436_delete_username_column_from_user_table', 1708449568)
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `notification` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`title` varchar(255) NOT NULL,
	`description` text,
	`status` tinyint(3) NOT NULL DEFAULT 1,
	`user_id` int(11) NULL DEFAULT NULL,
	`created_at` datetime
)
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `notification` ADD CONSTRAINT `fk-notification-user_id` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`)
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `notification` COMMENT 'Уведомления в кабинете'
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `notification`
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `notification` CHANGE `title` `title` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Название'
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `notification`
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `notification` CHANGE `description` `description` text COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Описание'
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `notification`
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `notification` CHANGE `user_id` `user_id` int(11) DEFAULT NULL COMMENT 'Пользователь'
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `notification`
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `notification` CHANGE `status` `status` tinyint(3) NOT NULL DEFAULT 1 COMMENT 'Статус'
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `notification`
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `notification` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Дата создания'
2024-02-20 20:19:29 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:30 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:30 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220815_074348_create_notification_table', 1708449569)
2024-02-20 20:19:30 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `achievement` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`title` varchar(255) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:19:32 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement` COMMENT 'Достижения'
2024-02-20 20:19:32 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `achievement`
2024-02-20 20:19:32 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement` CHANGE `title` `title` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Название'
2024-02-20 20:19:32 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `achievement`
2024-02-20 20:19:32 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Дата создания'
2024-02-20 20:19:32 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `achievement`
2024-02-20 20:19:32 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Дата обновления'
2024-02-20 20:19:32 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `achievement_level` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`achievement_id` int(11) NOT NULL,
	`title` varchar(255) NOT NULL,
	`score` varchar(255) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:19:33 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_level` ADD CONSTRAINT `fk-achievement_level-achievement_id` FOREIGN KEY (`achievement_id`) REFERENCES `achievement` (`id`)
2024-02-20 20:19:39 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_level` COMMENT 'Уровень достижения'
2024-02-20 20:19:39 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `achievement_level`
2024-02-20 20:19:39 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_level` CHANGE `title` `title` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Название'
2024-02-20 20:19:39 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `achievement_level`
2024-02-20 20:19:39 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_level` CHANGE `achievement_id` `achievement_id` int(11) NOT NULL COMMENT 'Достижение'
2024-02-20 20:19:39 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `achievement_level`
2024-02-20 20:19:39 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_level` CHANGE `score` `score` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Баллы'
2024-02-20 20:19:39 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `achievement_level`
2024-02-20 20:19:39 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_level` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Дата создания'
2024-02-20 20:19:39 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `achievement_level`
2024-02-20 20:19:39 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_level` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Дата обновления'
2024-02-20 20:19:39 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `achievement_user` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`user_id` int(11) NOT NULL,
	`achievement_level_id` int(11) NOT NULL,
	`user_score` int(11) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:19:39 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_user` ADD CONSTRAINT `fk-achievement_user-user_id` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`)
2024-02-20 20:19:39 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_user` ADD CONSTRAINT `fk-achievement_user-achievement_level_id` FOREIGN KEY (`achievement_level_id`) REFERENCES `achievement_level` (`id`)
2024-02-20 20:19:42 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_user` COMMENT 'Достижения пользователя'
2024-02-20 20:19:42 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `achievement_user`
2024-02-20 20:19:42 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_user` CHANGE `user_id` `user_id` int(11) NOT NULL COMMENT 'Пользователь'
2024-02-20 20:19:42 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `achievement_user`
2024-02-20 20:19:42 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_user` CHANGE `achievement_level_id` `achievement_level_id` int(11) NOT NULL COMMENT 'Уровень достижения'
2024-02-20 20:19:42 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `achievement_user`
2024-02-20 20:19:42 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_user` CHANGE `user_score` `user_score` int(11) NOT NULL COMMENT 'Баллы пользователя'
2024-02-20 20:19:42 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `achievement_user`
2024-02-20 20:19:42 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_user` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Дата создания'
2024-02-20 20:19:42 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `achievement_user`
2024-02-20 20:19:42 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_user` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Дата обновления'
2024-02-20 20:19:42 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:42 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:42 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220815_083556_create_achievement_table', 1708449582)
2024-02-20 20:19:43 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `banner` DROP COLUMN `position`
2024-02-20 20:19:43 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` DROP COLUMN `position`
2024-02-20 20:19:45 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` DROP COLUMN `position`
2024-02-20 20:19:51 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `banner` ADD `position` int(11) NULL DEFAULT NULL
2024-02-20 20:19:51 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` ADD `position` int(11) NULL DEFAULT NULL
2024-02-20 20:19:51 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` ADD `position` int(11) NULL DEFAULT NULL
2024-02-20 20:19:53 [-][-][-][info][yii\db\Command::query] SELECT * FROM `banner`
2024-02-20 20:19:53 [-][-][-][info][yii\db\Command::query] SELECT * FROM `lesson`
2024-02-20 20:19:53 [-][-][-][info][yii\db\Command::query] SELECT * FROM `question`
2024-02-20 20:19:53 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:54 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:54 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220825_090054_change_position_columns_in_tables', 1708449593)
2024-02-20 20:19:54 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` ADD `time` varchar(255)
2024-02-20 20:19:54 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `course`
2024-02-20 20:19:54 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `time` `time` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Время'
2024-02-20 20:19:54 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` ADD `time` varchar(255)
2024-02-20 20:19:54 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `lesson`
2024-02-20 20:19:54 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` CHANGE `time` `time` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Время'
2024-02-20 20:19:55 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:57 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:57 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220918_112131_add_columns_to_course_table', 1708449595)
2024-02-20 20:19:57 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `user_lessons` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`lesson_id` int(11) NOT NULL,
	`user_id` int(11) NOT NULL,
	`score` int(11) NOT NULL,
	`question_count` int(11) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:19:57 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_lessons` ADD CONSTRAINT `fk-user_lessons-lesson_id` FOREIGN KEY (`lesson_id`) REFERENCES `lesson` (`id`)
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_lessons` ADD CONSTRAINT `fk-user_lessons-user_id` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`)
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_lessons` COMMENT 'Пройденные лекции'
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_lessons`
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_lessons` CHANGE `lesson_id` `lesson_id` int(11) NOT NULL COMMENT 'Уроки'
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_lessons`
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_lessons` CHANGE `user_id` `user_id` int(11) NOT NULL COMMENT 'Пользователь'
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_lessons`
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_lessons` CHANGE `score` `score` int(11) NOT NULL COMMENT 'Правильно отвеченные вопросы'
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_lessons`
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_lessons` CHANGE `question_count` `question_count` int(11) NOT NULL COMMENT 'Общие вопросы'
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_lessons`
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_lessons` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Дата создания'
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_lessons`
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_lessons` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Дата обновления'
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220922_112424_create_user_lessons_table', 1708449598)
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `setting`
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'setting' AND `kcu`.`TABLE_NAME` = 'setting'
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::execute] INSERT INTO `setting` (`title`, `key`, `value`, `created_at`, `updated_at`) VALUES ('Проходной процент', 'percent_limit', '50', '2024-02-20 08:19:58', '2024-02-20 08:19:58')
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220922_140826_add_row_to_setting_table', 1708449598)
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `purchased_webinar` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`user_id` int(11) NOT NULL,
	`webinar_id` int(11) NOT NULL,
	`price` decimal(10,2) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:19:58 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_webinar` ADD CONSTRAINT `fk-user_id-purchased_webinar` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`)
2024-02-20 20:19:59 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_webinar` ADD CONSTRAINT `fk-webinar_id-purchased_webinar` FOREIGN KEY (`webinar_id`) REFERENCES `webinar` (`id`)
2024-02-20 20:19:59 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_webinar` COMMENT 'Купленные вебинары'
2024-02-20 20:19:59 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `purchased_webinar`
2024-02-20 20:19:59 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_webinar` CHANGE `user_id` `user_id` int(11) NOT NULL COMMENT 'Пользователь'
2024-02-20 20:19:59 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `purchased_webinar`
2024-02-20 20:19:59 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_webinar` CHANGE `webinar_id` `webinar_id` int(11) NOT NULL COMMENT 'Вебинар'
2024-02-20 20:19:59 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `purchased_webinar`
2024-02-20 20:19:59 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_webinar` CHANGE `price` `price` decimal(10,2) NOT NULL COMMENT 'Цена'
2024-02-20 20:19:59 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `purchased_webinar`
2024-02-20 20:19:59 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_webinar` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:19:59 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `purchased_webinar`
2024-02-20 20:19:59 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `purchased_webinar` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Время обновления'
2024-02-20 20:19:59 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:00 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:00 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220922_155159_create_purchased_webinar_table', 1708449599)
2024-02-20 20:20:01 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` ADD `price_photo` varchar(255)
2024-02-20 20:20:01 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `course`
2024-02-20 20:20:02 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `price_photo` `price_photo` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Изображение с ценой'
2024-02-20 20:20:02 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:04 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:04 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220922_163303_add_course_table', 1708449602)
2024-02-20 20:20:05 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `webinar` ADD `img` varchar(255)
2024-02-20 20:20:05 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `webinar` ADD `title` varchar(255)
2024-02-20 20:20:06 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:06 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:06 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220923_110549_add_columns_to_webinar_table', 1708449606)
2024-02-20 20:20:06 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` ADD `trailer` varchar(255)
2024-02-20 20:20:06 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:07 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:07 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220926_145411_add_trailer_to_course_table', 1708449606)
2024-02-20 20:20:07 [-][-][-][info][yii\db\Command::execute] DROP TABLE `achievement_user`
2024-02-20 20:20:07 [-][-][-][info][yii\db\Command::execute] DROP TABLE `achievement_level`
2024-02-20 20:20:07 [-][-][-][info][yii\db\Command::execute] DROP TABLE `achievement`
2024-02-20 20:20:08 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `achievement` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`letter` varchar(1) NOT NULL,
	`title` varchar(255) NOT NULL,
	`description` varchar(255) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:20:08 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `achievement_user` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`achievement_id` int(11) NOT NULL,
	`user_id` int(11) NOT NULL,
	`for` varchar(255),
	`type` int(11) NOT NULL,
	`created_at` datetime
)
2024-02-20 20:20:08 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_user` ADD CONSTRAINT `fk-achievement_user-user_id` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`)
2024-02-20 20:20:08 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `achievement_user` ADD CONSTRAINT `fk-achievement_user-achievement_id` FOREIGN KEY (`achievement_id`) REFERENCES `achievement` (`id`)
2024-02-20 20:20:10 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `achievement`
2024-02-20 20:20:10 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'achievement' AND `kcu`.`TABLE_NAME` = 'achievement'
2024-02-20 20:20:10 [-][-][-][info][yii\db\Command::execute] INSERT INTO `achievement` (`id`, `letter`, `title`, `description`, `created_at`, `updated_at`) VALUES (1, 'A', 'Первая награда', 'Получи их все', '2024-02-20 20:20:10', '2024-02-20 20:20:10'), (2, 'B', 'Вторая награда', 'Получи их все', '2024-02-20 20:20:10', '2024-02-20 20:20:10'), (3, 'C', 'Третья награда', 'Получи их все', '2024-02-20 20:20:10', '2024-02-20 20:20:10'), (4, 'D', 'Четвертая награда', 'Получи их все', '2024-02-20 20:20:10', '2024-02-20 20:20:10'), (5, 'E', 'Пятая награда', 'Получи их все', '2024-02-20 20:20:10', '2024-02-20 20:20:10'), (6, 'F', 'Шестая награда', 'Получи их все', '2024-02-20 20:20:10', '2024-02-20 20:20:10'), (7, 'G', 'Седьмая награда', 'Получи их все', '2024-02-20 20:20:10', '2024-02-20 20:20:10'), (8, 'H', 'Восьмая награда', 'Получи их все', '2024-02-20 20:20:10', '2024-02-20 20:20:10'), (9, 'I', 'Девятая награда', 'Получи их все', '2024-02-20 20:20:10', '2024-02-20 20:20:10'), (10, 'G', 'Десятая награда', 'Получи их все', '2024-02-20 20:20:10', '2024-02-20 20:20:10'), (11, 'K', 'Одиннадцатая награда', 'Получи их все', '2024-02-20 20:20:10', '2024-02-20 20:20:10')
2024-02-20 20:20:10 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:10 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:10 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220927_114422_create_achievement_table', 1708449610)
2024-02-20 20:20:10 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `corporate_training` ADD `theme` varchar(255)
2024-02-20 20:20:10 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:10 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:10 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220927_145615_add_theme_to_corporate_training_table', 1708449610)
2024-02-20 20:20:11 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_lessons` ADD `passed` tinyint(1) DEFAULT 1
2024-02-20 20:20:11 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:11 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:11 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220928_051620_add_passed_column_to_user_lessons_table', 1708449611)
2024-02-20 20:20:11 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `feedback` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`name` varchar(255) NOT NULL,
	`email` varchar(255) NOT NULL,
	`text` text NOT NULL,
	`created_at` datetime
)
2024-02-20 20:20:13 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:14 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:14 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220928_154722_create_feedback_table', 1708449613)
2024-02-20 20:20:15 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` ADD `video` varchar(255)
2024-02-20 20:20:15 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:16 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:16 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m220930_152324_add_video_column_to_author_table', 1708449615)
2024-02-20 20:20:16 [-][-][-][info][yii\db\Command::execute] DROP TABLE `user_answer`
2024-02-20 20:20:16 [-][-][-][info][yii\db\Command::execute] DROP TABLE `user_result`
2024-02-20 20:20:17 [-][-][-][info][yii\db\Command::execute] DROP TABLE `question`
2024-02-20 20:20:17 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `question` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`course_id` int(11) NOT NULL,
	`text` text NOT NULL,
	`position` int(11) NOT NULL,
	`type` tinyint(3) NOT NULL,
	`answer` text NOT NULL,
	`created_user_id` int(11) NOT NULL,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:20:19 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` ADD CONSTRAINT `fk-created_user-question` FOREIGN KEY (`created_user_id`) REFERENCES `user` (`id`)
2024-02-20 20:20:25 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` ADD CONSTRAINT `fk-course_id-question` FOREIGN KEY (`course_id`) REFERENCES `course` (`id`)
2024-02-20 20:20:26 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` COMMENT 'Домашние задания'
2024-02-20 20:20:26 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `question`
2024-02-20 20:20:26 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` CHANGE `course_id` `course_id` int(11) NOT NULL COMMENT 'Курс'
2024-02-20 20:20:26 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `question`
2024-02-20 20:20:26 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` CHANGE `position` `position` int(11) NOT NULL COMMENT 'Позиция'
2024-02-20 20:20:27 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `question`
2024-02-20 20:20:27 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` CHANGE `type` `type` tinyint(3) NOT NULL COMMENT 'Тип'
2024-02-20 20:20:27 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `question`
2024-02-20 20:20:27 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` CHANGE `answer` `answer` text COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Ответ'
2024-02-20 20:20:27 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `question`
2024-02-20 20:20:27 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` CHANGE `created_user_id` `created_user_id` int(11) NOT NULL COMMENT 'Создан пользователем'
2024-02-20 20:20:27 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `question`
2024-02-20 20:20:27 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:20:27 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `question`
2024-02-20 20:20:27 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Время обновления'
2024-02-20 20:20:27 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `user_answer` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`user_id` int(11) NOT NULL,
	`question_id` int(11) NOT NULL,
	`answer` text NOT NULL,
	`right` tinyint(1) NOT NULL,
	`created_at` datetime
)
2024-02-20 20:20:28 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` ADD CONSTRAINT `fk-user_id-user_answer` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`)
2024-02-20 20:20:30 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` ADD CONSTRAINT `fk-question_id-user_answer` FOREIGN KEY (`question_id`) REFERENCES `question` (`id`)
2024-02-20 20:20:30 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` COMMENT 'Ответы пользователей'
2024-02-20 20:20:31 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_answer`
2024-02-20 20:20:31 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` CHANGE `user_id` `user_id` int(11) NOT NULL COMMENT 'Пользователь'
2024-02-20 20:20:31 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_answer`
2024-02-20 20:20:31 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` CHANGE `question_id` `question_id` int(11) NOT NULL COMMENT 'Домашнее задание'
2024-02-20 20:20:31 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_answer`
2024-02-20 20:20:31 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` CHANGE `answer` `answer` text COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Ответ'
2024-02-20 20:20:32 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_answer`
2024-02-20 20:20:32 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` CHANGE `right` `right` tinyint(1) NOT NULL COMMENT 'Правильно'
2024-02-20 20:20:32 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user_answer`
2024-02-20 20:20:32 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:20:32 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_lessons` DROP FOREIGN KEY `fk-user_lessons-lesson_id`
2024-02-20 20:20:32 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_lessons` DROP COLUMN `lesson_id`
2024-02-20 20:20:33 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_lessons` ADD `course_id` int(11)
2024-02-20 20:20:33 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_lessons` ADD CONSTRAINT `fk-user_lessons-course_id` FOREIGN KEY (`course_id`) REFERENCES `course` (`id`)
2024-02-20 20:20:33 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:33 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:33 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221004_130328_redo_question_table', 1708449633)
2024-02-20 20:20:34 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` CHANGE `phone` `phone` varchar(255)
2024-02-20 20:20:34 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:34 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:34 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221011_124913_change_phone_user_table', 1708449634)
2024-02-20 20:20:34 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` ADD `cart` LONGTEXT
2024-02-20 20:20:34 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `webinar` ADD `price` decimal(10,2)
2024-02-20 20:20:34 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:34 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:34 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221016_092456_add_cart_to_user_table', 1708449634)
2024-02-20 20:20:34 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `webinar` ADD `description` text
2024-02-20 20:20:34 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:34 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:35 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221017_041124_add_description_to_webinar_table', 1708449634)
2024-02-20 20:20:35 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `promocode` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`promo` varchar(255) UNIQUE,
	`percent` tinyint(3),
	`status` tinyint(3) DEFAULT 1,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:20:35 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `promocode` COMMENT 'Промо сертификаты'
2024-02-20 20:20:36 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `promocode`
2024-02-20 20:20:36 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `promocode` CHANGE `promo` `promo` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Промо Код'
2024-02-20 20:20:36 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `promocode`
2024-02-20 20:20:36 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `promocode` CHANGE `percent` `percent` tinyint(3) DEFAULT NULL COMMENT 'Сумма сертификата'
2024-02-20 20:20:36 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `promocode`
2024-02-20 20:20:37 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `promocode` CHANGE `status` `status` tinyint(3) DEFAULT 1 COMMENT 'Статус'
2024-02-20 20:20:37 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `promocode`
2024-02-20 20:20:37 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `promocode` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Дата создания'
2024-02-20 20:20:37 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `promocode`
2024-02-20 20:20:37 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `promocode` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Дата обновления'
2024-02-20 20:20:37 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` ADD `promocode_id` int(11)
2024-02-20 20:20:37 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` ADD CONSTRAINT `fk-promocode_id-user` FOREIGN KEY (`promocode_id`) REFERENCES `promocode` (`id`)
2024-02-20 20:20:39 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:41 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:41 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221018_095219_create_promocode_table', 1708449639)
2024-02-20 20:20:41 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `corporate_training` CHANGE `phone` `phone` varchar(255)
2024-02-20 20:20:42 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:44 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:44 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221021_082830_change_corporate_training_table', 1708449642)
2024-02-20 20:20:45 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `timing` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`user_id` int(11) NOT NULL,
	`lesson_id` int(11) NOT NULL,
	`time` varchar(255) NOT NULL
)
2024-02-20 20:20:46 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `timing` ADD CONSTRAINT `fk-user_id-timing` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`)
2024-02-20 20:20:47 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `timing` ADD CONSTRAINT `fk-lesson_id-timing` FOREIGN KEY (`lesson_id`) REFERENCES `lesson` (`id`)
2024-02-20 20:20:49 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:49 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:49 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221021_085414_create_timing_table', 1708449649)
2024-02-20 20:20:49 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `timing` DROP COLUMN `time`
2024-02-20 20:20:50 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `timing` ADD `time` int(11) NOT NULL
2024-02-20 20:20:50 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:51 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:51 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221024_073210_change_time_timing_table', 1708449650)
2024-02-20 20:20:52 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` DROP FOREIGN KEY `fk-promocode_id-user`
2024-02-20 20:20:53 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` DROP COLUMN `promocode_id`
2024-02-20 20:20:54 [-][-][-][info][yii\db\Command::execute] DROP TABLE `promocode`
2024-02-20 20:20:54 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `promocode` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`promo` varchar(255),
	`percent` tinyint(3),
	`status` tinyint(3) DEFAULT 1,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:20:54 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `promocode` COMMENT 'Промо сертификаты'
2024-02-20 20:20:54 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `promocode`
2024-02-20 20:20:54 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `promocode` CHANGE `promo` `promo` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Промо Код'
2024-02-20 20:20:54 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `promocode`
2024-02-20 20:20:54 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `promocode` CHANGE `percent` `percent` tinyint(3) DEFAULT NULL COMMENT 'Сумма сертификата'
2024-02-20 20:20:54 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `promocode`
2024-02-20 20:20:54 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `promocode` CHANGE `status` `status` tinyint(3) DEFAULT 1 COMMENT 'Статус'
2024-02-20 20:20:54 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `promocode`
2024-02-20 20:20:54 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `promocode` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Дата создания'
2024-02-20 20:20:54 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `promocode`
2024-02-20 20:20:54 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `promocode` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Дата обновления'
2024-02-20 20:20:54 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` ADD `promocode_id` int(11)
2024-02-20 20:20:54 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` ADD CONSTRAINT `fk-promocode_id-user` FOREIGN KEY (`promocode_id`) REFERENCES `promocode` (`id`)
2024-02-20 20:20:55 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:55 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:55 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221024_141251_change_promocode_table', 1708449655)
2024-02-20 20:20:55 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` ADD `short_description` varchar(255)
2024-02-20 20:20:55 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `course`
2024-02-20 20:20:55 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `short_description` `short_description` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Краткое описание'
2024-02-20 20:20:55 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:20:56 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:20:56 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221101_115327_add_short_description_to_course_table', 1708449655)
2024-02-20 20:20:56 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `transaction` ADD `cart` LONGTEXT
2024-02-20 20:20:56 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `transaction` ADD `promocode_id` int(11)
2024-02-20 20:20:56 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `transaction` ADD `user_id` int(11)
2024-02-20 20:20:56 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `transaction`
2024-02-20 20:20:56 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `transaction` CHANGE `cart` `cart` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Корзина'
2024-02-20 20:20:57 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `transaction`
2024-02-20 20:20:57 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `transaction` CHANGE `promocode_id` `promocode_id` int(11) DEFAULT NULL COMMENT 'Промокод'
2024-02-20 20:20:57 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `transaction`
2024-02-20 20:20:57 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `transaction` CHANGE `user_id` `user_id` int(11) DEFAULT NULL COMMENT 'Пользователь'
2024-02-20 20:20:58 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `transaction` ADD CONSTRAINT `fk-user_id-transaction` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`)
2024-02-20 20:20:59 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `transaction` ADD CONSTRAINT `fk-promocode_id-transaction` FOREIGN KEY (`promocode_id`) REFERENCES `promocode` (`id`)
2024-02-20 20:21:00 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:21:00 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:21:00 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221103_070509_add_columns_to_transaction_table', 1708449660)
2024-02-20 20:21:00 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `setting`
2024-02-20 20:21:00 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'setting' AND `kcu`.`TABLE_NAME` = 'setting'
2024-02-20 20:21:00 [-][-][-][info][yii\db\Command::execute] INSERT INTO `setting` (`title`, `key`, `value`, `created_at`, `updated_at`) VALUES ('Скидка для полного доступа', 'full_access_percent', '10', '2024-02-20 08:21:00', '2024-02-20 08:21:00')
2024-02-20 20:21:00 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:21:01 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:21:01 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221103_124935_add_row_to_setting_table', 1708449660)
2024-02-20 20:21:01 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` ADD `position` int(11)
2024-02-20 20:21:01 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `course`
2024-02-20 20:21:01 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `position` `position` int(11) DEFAULT NULL COMMENT 'Позиция'
2024-02-20 20:21:01 [-][-][-][info][yii\db\Command::query] SELECT * FROM `course`
2024-02-20 20:21:01 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:21:01 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:21:01 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221110_150905_add_position_to_course_table', 1708449661)
2024-02-20 20:21:01 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_answer` ADD INDEX `idx_unique_user_id` (`user_id`, `question_id`)
2024-02-20 20:21:01 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221115_162212_add_index_to_question_table', 1708449661)
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` ADD `reset_password_time` datetime
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `user`
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user` CHANGE `reset_password_time` `reset_password_time` datetime DEFAULT NULL COMMENT 'Время последнего сброса пароля'
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221125_033441_add_reset_password_time_to_user_table', 1708449662)
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` ADD `vimeo` varchar(255)
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` ADD `vimeo` varchar(255)
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` ADD `vimeo` varchar(255)
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `author`
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` CHANGE `vimeo` `vimeo` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Поле для вимео'
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `course`
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `vimeo` `vimeo` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Поле для вимео'
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `lesson`
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` CHANGE `vimeo` `vimeo` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Поле для вимео'
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221130_044046_add_vimeo_column_to_lesson_table', 1708449662)
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` ADD INDEX `idx_course_id_question` (`course_id`)
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `user_lessons` ADD INDEX `idx_course_id_user_lessons` (`course_id`, `user_id`)
2024-02-20 20:21:02 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:21:03 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:21:03 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221205_140306_add_indexes_to_tables', 1708449662)
2024-02-20 20:21:03 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` ADD `small_photo` varchar(255)
2024-02-20 20:21:03 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `author`
2024-02-20 20:21:03 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` CHANGE `small_photo` `small_photo` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Фото для мобилки'
2024-02-20 20:21:03 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:21:03 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:21:03 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221215_123615_add_small_photo_column_to_author_table', 1708449663)
2024-02-20 20:21:04 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `author` CHANGE `created_user` `created_user` int(11) NULL DEFAULT NULL
2024-02-20 20:21:04 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `banner` CHANGE `created_user_id` `created_user_id` int(11) NULL DEFAULT NULL
2024-02-20 20:21:05 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `category` CHANGE `created_user` `created_user` int(11) NULL DEFAULT NULL
2024-02-20 20:21:05 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` CHANGE `created_user` `created_user` int(11) NULL DEFAULT NULL
2024-02-20 20:21:07 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `lesson` CHANGE `created_user_id` `created_user_id` int(11) NULL DEFAULT NULL
2024-02-20 20:21:08 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `question` CHANGE `created_user_id` `created_user_id` int(11) NULL DEFAULT NULL
2024-02-20 20:21:11 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `webinar` CHANGE `created_user_id` `created_user_id` int(11) NULL DEFAULT NULL
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221216_102057_update_created_user_in_tables', 1708449672)
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `statistic` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`date` date NOT NULL,
	`average_check` decimal(19,4) NOT NULL,
	`promocode_json` text,
	`author_json` text,
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic` COMMENT 'Статистика'
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic`
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic` CHANGE `date` `date` date NOT NULL COMMENT 'Дата'
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic`
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic` CHANGE `average_check` `average_check` decimal(19,4) NOT NULL COMMENT 'Средний чек'
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic`
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic` CHANGE `promocode_json` `promocode_json` text COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Промокоды'
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic`
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic` CHANGE `author_json` `author_json` text COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Спикеры'
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic`
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic`
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Время обновления'
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:21:12 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221222_121107_create_statistic_table', 1708449672)
2024-02-20 20:21:13 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `promocode` CHANGE `percent` `percent` decimal(8,5)
2024-02-20 20:21:13 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221224_091333_change_percent_column_in_promocode_table', 1708449673)
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `statistic_author` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`date` date NOT NULL,
	`author_id` int(11),
	`count` int(11),
	`sum` decimal(10,2),
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic_author` ADD CONSTRAINT `fk-author_id-statistic_author` FOREIGN KEY (`author_id`) REFERENCES `author` (`id`)
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic_author` COMMENT 'Статистика'
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic_author`
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic_author` CHANGE `date` `date` date NOT NULL COMMENT 'Дата'
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic_author`
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic_author` CHANGE `author_id` `author_id` int(11) DEFAULT NULL COMMENT 'Спикеры'
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic_author`
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic_author` CHANGE `count` `count` int(11) DEFAULT NULL COMMENT 'Количество'
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic_author`
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic_author` CHANGE `sum` `sum` decimal(10,2) DEFAULT NULL COMMENT 'Сумма'
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic_author`
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic_author` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic_author`
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic_author` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Время обновления'
2024-02-20 20:21:14 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:21:16 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:21:16 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221227_135300_create_statistic_author_tables', 1708449674)
2024-02-20 20:21:16 [-][-][-][info][yii\db\Command::execute] CREATE TABLE `statistic_promocode` (
	`id` int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`date` date NOT NULL,
	`promo` text,
	`count` int(11),
	`created_at` datetime,
	`updated_at` datetime
)
2024-02-20 20:21:16 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic_promocode` COMMENT 'Статистика'
2024-02-20 20:21:16 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic_promocode`
2024-02-20 20:21:16 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic_promocode` CHANGE `date` `date` date NOT NULL COMMENT 'Дата'
2024-02-20 20:21:16 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic_promocode`
2024-02-20 20:21:16 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic_promocode` CHANGE `promo` `promo` text COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Промокоды'
2024-02-20 20:21:16 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic_promocode`
2024-02-20 20:21:16 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic_promocode` CHANGE `count` `count` int(11) DEFAULT NULL COMMENT 'Количество'
2024-02-20 20:21:16 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic_promocode`
2024-02-20 20:21:16 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic_promocode` CHANGE `created_at` `created_at` datetime DEFAULT NULL COMMENT 'Время создания'
2024-02-20 20:21:16 [-][-][-][info][yii\db\Command::query] SHOW CREATE TABLE `statistic_promocode`
2024-02-20 20:21:16 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `statistic_promocode` CHANGE `updated_at` `updated_at` datetime DEFAULT NULL COMMENT 'Время обновления'
2024-02-20 20:21:16 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:21:17 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:21:17 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m221227_135441_create_statistic_promocode_table', 1708449676)
2024-02-20 20:21:17 [-][-][-][info][yii\db\Command::execute] ALTER TABLE `course` ADD `apple_id` varchar(255)
2024-02-20 20:21:17 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:21:17 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:21:17 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m230126_130606_add_apple_id_to_course_table', 1708449677)
2024-02-20 20:21:17 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `setting`
2024-02-20 20:21:17 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'setting' AND `kcu`.`TABLE_NAME` = 'setting'
2024-02-20 20:21:17 [-][-][-][info][yii\db\Command::execute] INSERT INTO `setting` (`title`, `key`, `value`, `created_at`, `updated_at`) VALUES ('Время в минутах, когда активен платеж', 'pay_limit', '20', '2024-02-20 08:21:17', '2024-02-20 08:21:17')
2024-02-20 20:21:17 [-][-][-][info][yii\db\Command::query] SHOW FULL COLUMNS FROM `migration`
2024-02-20 20:21:17 [-][-][-][info][yii\db\Command::query] SELECT
    `kcu`.`CONSTRAINT_NAME` AS `constraint_name`,
    `kcu`.`COLUMN_NAME` AS `column_name`,
    `kcu`.`REFERENCED_TABLE_NAME` AS `referenced_table_name`,
    `kcu`.`REFERENCED_COLUMN_NAME` AS `referenced_column_name`
FROM `information_schema`.`REFERENTIAL_CONSTRAINTS` AS `rc`
JOIN `information_schema`.`KEY_COLUMN_USAGE` AS `kcu` ON
    (
        `kcu`.`CONSTRAINT_CATALOG` = `rc`.`CONSTRAINT_CATALOG` OR
        (`kcu`.`CONSTRAINT_CATALOG` IS NULL AND `rc`.`CONSTRAINT_CATALOG` IS NULL)
    ) AND
    `kcu`.`CONSTRAINT_SCHEMA` = `rc`.`CONSTRAINT_SCHEMA` AND
    `kcu`.`CONSTRAINT_NAME` = `rc`.`CONSTRAINT_NAME`
WHERE `rc`.`CONSTRAINT_SCHEMA` = database() AND `kcu`.`TABLE_SCHEMA` = database()
AND `rc`.`TABLE_NAME` = 'migration' AND `kcu`.`TABLE_NAME` = 'migration'
2024-02-20 20:21:17 [-][-][-][info][yii\db\Command::execute] INSERT INTO `migration` (`version`, `apply_time`) VALUES ('m230403_104958_add_row_to_setting_table', 1708449677)
2024-02-20 20:17:28 [-][-][-][info][application] $_GET = []

$_POST = []

$_FILES = []

$_COOKIE = []

$_SERVER = [
    'PHP_COMMAND' => 'php.exe'
    'PROMPT' => '$P$G'
    'PSExecutionPolicyPreference' => 'Bypass'
    'TERM_SESSION_ID' => '9a988555-dab7-4126-ba50-931df88c6c95'
    'YII_PATH' => 'C:\\Users\\\\Desktop\\OpenServer\\domains\\yii2-school-backend\\'
    'ZES_ENABLE_SYSMAN' => '1'
    'ProgramW6432' => 'C:\\Program Files'
    'CLION_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\clion.vmoptions'
    'JETBRAINS_CLIENT_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\jetbrains_client.vmoptions'
    'DATAGRIP_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\datagrip.vmoptions'
    'FIG_JETBRAINS_SHELL_INTEGRATION' => '1'
    'CommonProgramW6432' => 'C:\\Program Files\\Common Files'
    'USERNAME' => ''
    'ALLUSERSPROFILE' => 'C:\\ProgramData'
    'USERPROFILE' => 'C:\\Users\\'
    'RUBYMINE_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\rubymine.vmoptions'
    'PROCESSOR_REVISION' => '7e05'
    'IDEA_INITIAL_DIRECTORY' => 'c:\\program files\\jetbrains\\phpstorm 2023.2.3\\bin'
    'PUBLIC' => 'C:\\Users\\Public'
    'PYCHARM_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\pycharm.vmoptions'
    'Path' => 'W:\\modules\\php\\PHP_7.4;w:\\modules\\php\\PHP_7.4\\ext;w:\\modules\\php\\PHP_7.4\\pear;w:\\modules\\php\\PHP_7.4\\pear\\bin;w:\\modules\\php\\PHP_7.4;w:\\modules\\wget\\bin;w:\\modules\\database\\MariaDB-10.3\\bin;w:\\modules\\http\\Apache_2.4-PHP_7.2-7.4\\bin;w:\\modules\\http\\Apache_2.4-PHP_7.2-7.4;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\system32\\Wbem;C:\\WINDOWS\\SysWOW64;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files (x86)\\Microsoft SQL Server\\140\\Tools\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\140\\Tools\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\140\\DTS\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\Client SDK\\ODBC\\130\\Tools\\Binn\\;C:\\Program Files\\Java\\jdk-14.0.2\\bin;C:\\Program Files (x86)\\GtkSharp\\2.12\\bin;C:\\Program Files (x86)\\Windows Kits\\8.0\\Windows Performance Toolkit\\;C:\\Program Files\\dotnet\\;C:\\Program Files\\OpenVPN\\bin;C:\\Program Files\\Microsoft SQL Server\\Client SDK\\ODBC\\170\\Tools\\Binn\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Users\\\\Desktop\\Git\\cmd;C:\\miniconda3;C:\\miniconda3\\Library\\mingw-w64\\bin;C:\\miniconda3\\Library\\usr\\bin;C:\\miniconda3\\Library\\bin;C:\\miniconda3\\Scripts;C:\\Users\\\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\\\Desktop\\\\Microsoft VS Code\\bin;C:\\Users\\\\.dotnet\\tools;C:\\Program Files\\JetBrains\\PhpStorm 2021.3.3\\bin;C:\\Program Files\\Azure Data Studio\\bin'
    'DriverData' => 'C:\\Windows\\System32\\Drivers\\DriverData'
    'JETBRAINSCLIENT_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\jetbrainsclient.vmoptions'
    'IDEA_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\idea.vmoptions'
    'HOME' => 'w:\\'
    'LOGONSERVER' => '\\\\LAPTOP-3C9IPRTN'
    'PHP_PEAR_PHP_BIN' => 'w:\\modules\\php\\PHP_7.4\\php.exe'
    'APPCODE_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\appcode.vmoptions'
    'TERMINAL_EMULATOR' => 'JetBrains-JediTerm'
    'PHP_PEAR_BIN_DIR' => 'w:\\modules\\php\\PHP_7.4\\PEAR'
    'PHP_PEAR_SYSCONF_DIR' => 'w:\\modules\\php\\PHP_7.4\\PEAR'
    'HOMEPATH' => '\\'
    'STUDIO_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\studio.vmoptions'
    'PHP_DIR' => 'w:\\modules\\php\\PHP_7.4\\'
    'SystemRoot' => 'C:\\WINDOWS'
    'HOMEDRIVE' => 'w:'
    'PHP_BIN' => 'w:\\modules\\php\\PHP_7.4\\php.exe'
    'PHPDIR' => 'w:\\modules\\php\\PHP_7.4\\'
    'LOCALAPPDATA' => 'C:\\Users\\\\AppData\\Local'
    'VS160COMCOMNTOOLS' => 'C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\Common7\\Tools\\'
    'APPDATA' => 'C:\\Users\\\\AppData\\Roaming'
    'PROCESSOR_IDENTIFIER' => 'Intel64 Family 6 Model 126 Stepping 5, GenuineIntel'
    'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL'
    'PSModulePath' => 'C:\\Users\\\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules;C:\\Program Files (x86)\\Microsoft SQL Server\\140\\Tools\\PowerShell\\Modules\\'
    'ProgramFiles(x86)' => 'C:\\Program Files (x86)'
    'PHP_PEAR_DOC_DIR' => 'w:\\modules\\php\\PHP_7.4\\PEAR\\docs'
    'PHP_PEAR_DATA_DIR' => 'w:\\modules\\php\\PHP_7.4\\PEAR\\data'
    'PHP_BINARY' => 'w:\\modules\\php\\PHP_7.4\\php.exe'
    'PHPSTORM_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\phpstorm.vmoptions'
    'WEBIDE_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\webide.vmoptions'
    'RIDER_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\rider.vmoptions'
    'OS' => 'Windows_NT'
    'WEBSTORM_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\webstorm.vmoptions'
    'PROCESSOR_ARCHITECTURE' => 'AMD64'
    'PHP_BINDIR' => 'w:\\modules\\php\\PHP_7.4\\'
    'PhpStorm' => 'C:\\Program Files\\JetBrains\\PhpStorm 2021.3.3\\bin;'
    'ComSpec' => 'C:\\WINDOWS\\system32\\cmd.exe'
    'PROCESSOR_LEVEL' => '6'
    'NUMBER_OF_PROCESSORS' => '4'
    'DEVECOSTUDIO_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\devecostudio.vmoptions'
    'USERDOMAIN_ROAMINGPROFILE' => 'LAPTOP-3C9IPRTN'
    'windir' => 'C:\\WINDOWS'
    'ProgramFiles' => 'C:\\Program Files'
    'OPENSSL_CONF' => 'w:\\modules\\http\\Apache_2.4-PHP_7.2-7.4\\conf\\openssl.cnf'
    'DATASPELL_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\dataspell.vmoptions'
    'Assembler' => 'C:\\Users\\\\Downloads\\Asembler\\BIN'
    'TEMP' => 'c:\\users\\\\desktop\\openserver\\userdata\\temp'
    'TMP' => 'c:\\users\\\\desktop\\openserver\\userdata\\temp'
    'GATEWAY_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\gateway.vmoptions'
    'PHP_INI' => 'w:\\modules\\php\\PHP_7.4\\php.ini'
    'PHPRC' => 'w:\\modules\\php\\PHP_7.4'
    'OneDriveConsumer' => 'C:\\Users\\\\OneDrive'
    'SystemDrive' => 'C:'
    'OneDriveCommercial' => 'C:\\Users\\\\OneDrive - al-Farabi Kazakh National University'
    'PHP_PEAR_INSTALL_DIR' => 'w:\\modules\\php\\PHP_7.4\\PEAR\\pear'
    'ProgramData' => 'C:\\ProgramData'
    'COMPUTERNAME' => 'LAPTOP-3C9IPRTN'
    'PHPBIN' => 'w:\\modules\\php\\PHP_7.4\\php.exe'
    'USERDOMAIN' => 'LAPTOP-3C9IPRTN'
    'OneDrive' => 'C:\\Users\\\\OneDrive - al-Farabi Kazakh National University'
    'PHP_PEAR_TEST_DIR' => 'w:\\modules\\php\\PHP_7.4\\PEAR\\tests'
    'GOLAND_VM_OPTIONS' => 'C:\\jetbra\\vmoptions\\goland.vmoptions'
    'CommonProgramFiles(x86)' => 'C:\\Program Files (x86)\\Common Files'
    'CommonProgramFiles' => 'C:\\Program Files\\Common Files'
    'PHP_SELF' => 'C:\\Users\\фора\\Desktop\\OpenServer\\domains\\yii2-school-backend\\yii'
    'SCRIPT_NAME' => 'C:\\Users\\фора\\Desktop\\OpenServer\\domains\\yii2-school-backend\\yii'
    'SCRIPT_FILENAME' => 'C:\\Users\\фора\\Desktop\\OpenServer\\domains\\yii2-school-backend\\yii'
    'PATH_TRANSLATED' => 'C:\\Users\\фора\\Desktop\\OpenServer\\domains\\yii2-school-backend\\yii'
    'DOCUMENT_ROOT' => ''
    'REQUEST_TIME_FLOAT' => 1708449447.5595
    'REQUEST_TIME' => 1708449447
    'argv' => [
        0 => 'C:\\Users\\фора\\Desktop\\OpenServer\\domains\\yii2-school-backend\\yii'
        1 => 'migrate'
    ]
    'argc' => 2
]
